<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from amalfipizza.com.au/?page=feedback by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2024 18:47:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Amalfi Pizza | Order Online</title>	
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="description" content="Il Amalfi Pizza and Pasta serves great pizza for the whole family. Our Stores: Wantirna, Doncaster, Burwood East, Hawthorn, Pakenham, and Preston."> 
    <meta name="keywords" content="Il Amalfi Pizza, Il Amalfi, Il Amalfi Burwood East, Amalfi, Amalfi Burwood East, Burwood East Pizza Delivery, Kew Pizza, Burwood Highway Delivery, Burwood Highway Road Pizza, il amalfi pizza, il amalfi, amalfiIl Amalfi Pizza, Il Amalfi, Il Amalfi Burwood East, Amalfi, Amalfi Burwood East, Burwood East Pizza Delivery, Kew Pizza, Burwood Highway Delivery, Burwood Highway Road Pizza, il amalfi pizza, il amalfi, amalfi" /><meta name="ROBOTS" CONTENT="INDEX, FOLLOW"><script type='text/javascript'>var HTTP_URL = 'index.html';</script><script type='text/javascript'>var REL_URL = 'core/index.html';</script><script type='text/javascript'>var S3_ASSETS_URL = 'https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/';</script><script type='text/javascript'>var PARTNER_ID = 1;</script><script type='text/javascript'>var PAGE_NAME = 'feedback';</script>    <meta property="og:title" content="Amalfi Pizza | Order Online" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://amalfipizza.com.au" />
    <meta property="og:image" content="https://d2ova09jg8x3xk.cloudfront.net/amalfipizza.com.au/rowville/images/logo.png" />
    <meta property="og:description" content="" />
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta http-equiv="Cache-control" content="public">
        	
		
    <link rel="shortcut icon" href="../d2ova09jg8x3xk.cloudfront.net/amalfipizza.com.au/rowville/images/favicon.png" type="image/x-icon">
    <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="images/startup.html">
    
    <style>
        #menu-items, #main-content, .mainpage, .office-info, .footerWrap{ display: none; }
        #main-content{
            min-height: 100%;
        }
        #wrap:before{ 
            content: ''; 
			background: #000;
			width: 100%;
			height: 100%;
        }

        
        /*
        * Select2 css
        */
        .selection{
            width: 100%;
        }
        
        .select2-container{
            height: 33px!important;
            line-height: 33px!important;
        }
        
        .select2-selection__rendered {
            padding-left: 30px!important;
            padding-right: 12px;
        }        
        
        .select2-container .select2-selection--single {
            height: 35px!important;
        }
        
        .select2-container--default .select2-selection--single .select2-selection__rendered{
            line-height: 33px!important;
        }
        
        .has-error .select2-selection {
            border-color: #a94442!important;
        }
        
        .has-success .select2-selection {
            border-color: #3c763d!important;
        }
        
        .select2-selection--single {
          height: 100% !important;
        }
        .select2-selection__rendered{
          word-wrap: break-word !important;
          text-overflow: inherit !important;
          white-space: normal !important;
        }

		#product_version .modal {
			text-align: center;
			padding: 0!important;
			background: none !important;
		}

		#product_version .modal-content{
			box-shadow: none !important;
			border-radius: 0;
		}

		#product_version .modal-header{
			background: #a91919;
    		color: #fff;
		}

		#product_version .modal-body{
			word-break: break-word;
		}

		#product_version .modal:before {
			content: '';
			display: inline-block;
			height: 100%;
			vertical-align: middle;
			margin-right: -4px; /* Adjusts for spacing */
		}

		#product_version .modal-dialog {
			display: inline-block;
			text-align: left;
			vertical-align: middle;
		}

		#product_version .modal-header .close{
			color: #fff;
    		text-align: unset;
		}
		
				
				.navbar{
			-webkit-box-shadow: 0 8px 6px -6px #999;
			-moz-box-shadow: 0 8px 6px -6px #999;
			box-shadow: 0 8px 6px -6px #999;
		}

		#padding-here{
			padding-top:60px;
		}
				
				.hide-menu-active-times{
			display:none !important;
		}
		.activetime_span{
			display:none !important;
		}
		.menu-item-outofstock{
			display: none !important;
		}
			
		
		#table-txt{
			width: 96%;
			margin-left: 2%;
			padding: 15px 0;
			text-align: center;
			font-size: 25px;
			font-weight: 700;
			background-color: #3498db;
			color: #fff;
		}

		@media only screen and (max-width: 414px){
			#table-txt{
				width: 94%;
				margin-left: 3%;
			}
		}

		/* OOA-109 Remove pause button */
		.ui-pnotify .ui-pnotify-sticker{
			display: none;
		}
		
		/* Loke loader */
		.loader_wrapper {
			background-color: #fff;
			width: 100%;
			height: 100%;
			z-index: 1030;
			position: fixed;
		}
		.loader_container {
			position: fixed;
			width: 100%;
			height: 100%;
			top: 20%;
			z-index: 1031;
		}
		.loader_ajax_small {
			border: 3px solid #eee !important;
			border-radius: 50%;
			border-top: 2px solid #333 !important;
			width: 100px;
			height: 100px;
			margin: 0 auto;
			-webkit-animation: spin_loader_ajax_small 2s linear infinite;
			animation: spin_loader_ajax_small 2s linear infinite;
		}
		@-webkit-keyframes spin_loader_ajax_small {
			0% { -webkit-transform: rotate(0deg); }
			100% { -webkit-transform: rotate(360deg); }
		}
		@keyframes spin_loader_ajax_small {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}

					.feedback_me_form ul label{
				margin-bottom: unset;
			}
		
		.pac-container{
			background-color: #ffffff;
			position: absolute;
			z-index: 1000;
			border-top: 1px solid #d9d9d9;
			-webkit-box-shadow: 0 2px 6px rgba(0,0,0,.3);
			box-shadow: 0 2px 6px rgba(0,0,0,.3);
			-webkit-box-sizing: border-box;
			box-sizing: border-box;
			overflow: hidden;
		}
		    </style>
    
    <link href='https://fonts.googleapis.com/css?family=Rubik|Poppins|Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <style>
        @font-face {
            font-family: 'Glyphicons Halflings';
            src: url("https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/fonts/glyphicons-halflings-regular.eot");
            src: url("https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/fonts/glyphicons-halflings-regular.eot?#iefix") format("embedded-opentype"), url("https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/fonts/glyphicons-halflings-regular.woff") format("woff"), url("https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/fonts/glyphicons-halflings-regular.ttf") format("truetype"), url("https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/fonts/glyphicons-halflings-regular.svg#BebasRegular") format("svg");
        }
    </style>
	<link rel="preload" as="font" href="https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/fonts/fa-solid-900.woff2" type="font/woff2" crossorigin="anonymous">
    <link type='text/css' rel='stylesheet' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/css/all.css'><link type='text/css' rel='stylesheet' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/css/style.css'><link type='text/css' rel='stylesheet' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/css/platina.css'><link type='text/css' rel='stylesheet' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/css/font-awesome.min.css'><link type='text/css' rel='stylesheet' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/css/login-v2.css'>
		    <link type='text/css' rel='stylesheet' href='../d2ova09jg8x3xk.cloudfront.net/amalfipizza.com.au/rowville/themes_oo.css'>
	
    <link href="../cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="../cdn.jsdelivr.net/npm/%40splidejs/splide%40latest/dist/css/splide.min.css">
	<link rel="stylesheet" href="../cdn.jsdelivr.net/npm/%40splidejs/splide%40latest/dist/css/themes/splide-sea-green.min.css">
	<script src="../ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	
	<!--GoogleMap-->
	<!-- <script src='https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyDiFzy_CwiC1t90mE7nskFbtrBhPOTsIgo&region=AU&callback=initMap' async defer></script> -->
	<script src='https://maps.googleapis.com/maps/api/js?v=3.exp&amp;libraries=places&amp;key=AIzaSyByHLsoWqVag96TcJTq2O2tPLU3qGLbvcE&amp;region=AU&amp;callback=initMap' async defer></script>	<script type="text/javascript">
		var autocompleteService, sessionToken, service;
      	function initMap() {}          
    </script> 

    <script type="text/javascript">
		// For franchise_logo on feedback widget (OOA-249)
		var session_logo = "images/logo.png";
		session_logo = session_logo;
		
        $('body').ready(function(){
            $('#menu-items, #main-content, .mainpage, .office-info, .footerWrap').fadeIn();
            $('#wrap').addClass('menu-ready');
        });
    </script>  
    <script src="../maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>    
    <script src="../cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
	<script src="../cdnjs.cloudflare.com/ajax/libs/smoothscroll/1.4.10/SmoothScroll.js"></script>
	<script src="../www.google.com/recaptcha/api.js" async defer></script>
	<script src="../www.google.com/recaptcha/api85f1.js?onload=onloadCallback&amp;render=explicit" async defer></script>
	<script>
		var widget_captcha;
		var onloadCallback = function() {
			// Renders the HTML element with id 'widget_captcha' as a reCAPTCHA widget.
			// The id of the reCAPTCHA widget is assigned to 'widget_captcha'.
			widget_captcha = grecaptcha.render('ofe_reCaptcha', {
				'sitekey' : '6Le47igTAAAAANEhEKvcyjPFEVQoPac5NUKgFmcm',
				'theme' : 'light'
			});
		};
	</script>
	<script>
		$(document).ready(function(){
			if($("#storeSelected").val() != 1){
										var store_list_option="";
						$.ajax({
							method: 'GET',
							data: {
								'account_id': 51							},
							dataType: 'json',
							url: 'core/ajax/get_multi_store.php',
						}).done(function(data){
							var i = 0;
							$.each(data, function(k, v){
								if(v.client_status === 'active'){
									store_list_option += "<option value='"+v.client_code+"'>"+v.store_name+"</option>";
									i++;
								}
							});
							
							if(i > 0){
								$(".feedback_me_form ul").prepend('<div id="feedback_store_list" style="margin-top:-20px;margin-bottom:10px;padding-bottom:10px;">' +
														'<label class="fieldTitle"> Select Store</label> <span class="required_asterisk">*</span><br />' + 
														'<select style="width:340px;" required class="feedback_store form-control">' +
														'<option value="">:::Please Select:::</option>' +
														store_list_option +
														'</select>' +
														'</div>');
								
																	$("#feedback-form select[name='store_code']").append(store_list_option);
															}
						});
							}
		});
	</script>
    <script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/jquery.validate-1.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/class.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/banner.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/blazy.min.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/bootstrap-modal-carousel.min.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/bootstrap3-typeahead.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/collapse.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/jquery.feedback_me.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/jwt-decode.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/offcanvas.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/pnotify.custom.min.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/qrcode.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/scrollspy.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/smart-app-banner.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/typeahead.bundle.min.js'></script>
	<script src="../cdn.jsdelivr.net/npm/%40splidejs/splide%40latest/dist/js/splide.min.js"></script>
    <script type='text/javascript'>
	var IS_AUS = true;
</script>

<script>
	$(document).ready(function(){
		// $('link[href="/deals.css"]').remove();
		$("#cancel").live("click", function(){
			$(".popover").toggle();
		});

					if(localStorage.getItem('activeTab') != null){
				localStorage.removeItem('activeTab');
			}
			});
</script>




<script>
	jQuery(document).ready(function($){
						
		
		
					$("#login-nav").click(function(){
									window.login_referer = 'navbar'; // login_referer to determine the flow of login.
					$(".or_guest, .checkout_as_guest").show();
					$(".register-ling a").attr('href','?page=register');
					$(".checkout_as_guest a").text('Login as Guest');
								$('#login-wrap').fadeToggle("fast");
				$(this).blur();
			});

			$("#login-section #cancel").click(function(){
				$('#login-wrap').fadeToggle("fast");
			});

			$("#login-section .close").click(function(){
				if(!$(this).hasClass("disabled")){
					$('#login-wrap').fadeToggle("fast");
				}
			});

			
		
		var txt;
		
		$("[data-toggle=popover]").popover({
			placement : 'bottom',
			html : 'true',
			content : txt
		}).click(function(e){ e.preventDefault(); });

		showModal = function(){
			$('#myModal').modal({
				keyboard: false,
				show: true
			});

			$("#myModal #processing-text").html('Processing Order');
		}

		hideModal = function(){
			$('#myModal').modal('hide');
		}

				
						$("#refer_form").submit(function(){
					$("#refer_form button").prop("disabled", true);
					$("#refer-btn").html("Sending. Please wait.");
					$.ajax({
						url:  'core/ajax/refer_friend_send.php', 
						type: 'POST', 
						data: $("#refer_form").serialize(),
						success: function(){
							$("#refer_form input, #refer_form button").prop("disabled", true);
							$("#refer-btn").html("E-mail sent");

							jQuery.prompt("<h4><center>Message has been sent!</center></h4>", {
											top:"30%",
											submit: function(e,v,m,f){
												window.location = window.location.href.split("?")[0];
											}
										});
						},
						error: function(){
							$("#refer_form button").prop("disabled", false);
							$("#refer-btn").html("Send Referal");
							jQuery.prompt("<h4><center>Message not sent!</center></h4>");
						}
					});
					
					return false;
				});
			});
</script>

<script>
	var $j = jQuery.noConflict();
	// bootstrap no conflict
	$j(document).ready(function(){
		$j(function(){
			$j('[data-toggle="tooltip"]').tooltip();

					});

			});

	
	function checked_io(elem, themeTemplate){
		if(elem.is(':checkbox')){
			if(elem.is(':checked')){
				elem.siblings('.input-group-label').children('.check-img-popup').css('visibility',"visible").attr("src","https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/"+themeTemplate+"/img/icon-check.png");
			} else{
				elem.siblings('.input-group-label').children('.check-img-popup').css('visibility',"hidden").attr("src","");
			}
		} else{
			elem.parent().parent().find('.check-img-popup').css('visibility',"hidden").attr('src',"");
			elem.siblings('.input-group-label').children('.check-img-popup').css('visibility',"visible").attr("src","https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/"+themeTemplate+"/img/icon-check.png");
		}

		if(elem.parent().parent().find('.check-img-popup').length > 0){
			elem.parent().parent().find('.check-img-popup').each(function(){
				if($(this).css("display") == "none"){
					$(this).css("display", "");
				}
			});
		}
	}

	var countdown_timer;
	function resend_countdown(resendTimer){
		resend_counter = 59;
		countdown_timer = setInterval(function(){
			resend_counter -= 1;
			$("#"+resendTimer).addClass("disabled").text("Resend code in "+resend_counter);
			if(resend_counter < 0) {
				clearInterval(countdown_timer);
				$("#"+resendTimer).removeClass("disabled").text("Resend code");
			}
		}, 1000)
	}

	function showMessage(elem, className, msg, timeOut){
		elem.addClass(className).text(msg).show();

		if(timeOut != undefined){
			setTimeout(function(){ 
				elem.hide();
			}, timeOut);
		}
	}
</script>


<script>
	(function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){d=a.target;while(!f.test(d.nodeName))d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}})(document,window.navigator,"standalone")
</script>


<script type='text/javascript' src='../ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/select2/dist/js/select2.min.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/jquery.autocomplete.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/jquery.impromtu.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/jquery.timeout.interval.idle.js'></script>
<script type='text/javascript' src='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/fancybox/jquery.fancybox-1.3.4.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/autocomplete.css'>
<link rel='stylesheet' type='text/css' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/fancybox/jquery.fancybox-1.3.4.css'>
<link rel='stylesheet' type='text/css' href='../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/scripts/select2/dist/css/select2.min.css'>

	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','../www.google-analytics.com/analytics.js','ga');ga('create', 'UA-49593232-2', {'name':'dsoftonline'});
		ga('dsoftonline.send', 'pageview');
		</script>
    <script type="text/javascript" src="https://iplogger.deliverit.com.au/deliverit-sdk.php"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            try{
                var deliveritSDK = new DeliveritSDK();
                var customerIP = deliveritSDK.getCustomerIP() +":"+ deliveritSDK.getCustomerPort();
            }catch(e){
                var customerIP = "::1";
            }
            if(!customerIP){
                customerIP = "::1"; // handles late transition of script to prevent error
            }
            $.post("core/ajax/get_ip.html",{'customerIP':customerIP});
        });
    </script>

<script>
	$(document).ready(function(){
		var refreshSession = function(){
			var time = 600000; // 10 mins
			setTimeout(function(){
				$.ajax({
					url: 'core/ajax/refreshsession.php',
					cache: false,
					complete: function(){refreshSession();}
				});
			}, time);
		};
		refreshSession();

		
                    const urlParams = new URLSearchParams(window.location.search);
            const param_page = urlParams.get('page');
            const current_template = 'template4';

            if (param_page || current_template == 'template4' || current_template == 'localserves') {
                $j('.storeinfo .header-info-toggle.navbar-toggle span.glyphicon').show();

                setMobileEstimatedTime(current_template);

                //Observe the change of estimated time
                var estimatedTime = $('#estimated-time');
                this.observer = new MutationObserver(function (mutations) {
                    setMobileEstimatedTime(current_template);
                }.bind(this));

                if (estimatedTime.length > 0) {
                    this.observer.observe(estimatedTime.get(0), {characterData: true, childList: true});
                }
            }

            $j('.storeinfo #bs-navbar').on('hidden.bs.collapse', toggleChevron);
            $j('.storeinfo #bs-navbar').on('shown.bs.collapse', toggleChevron);

            function setMobileEstimatedTime(current_template) {
                var estTime = $("#estimated-time #est-time").text();
                var mins = $("#estimated-time #time-mins").contents().first().text().trim();
                var deliveryTime = $("#estimated-time #time-mins p").text();
                var info = $("#estimated-time > h3").text();
                var alert = $("#estimated-time .alert").text();

                if (estTime !== '') {
                    var icon_file_name = 'est-time-icon.html';
                    if (current_template == 'template4') {
                        icon_file_name = 'est-time-icon-white.html';
                    }
                    var timestring = '<img class="est-time-icon" src="https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/images/'+icon_file_name+'" style="max-width:14px;"> ' + deliveryTime + ': <strong> ' + estTime + ' ' + mins + '</strong>';
                    $(".mobile-estimated-time").html(timestring);
                } else if (info !== '' || alert !== '') {
                    if (info !== '') {
                        $(".mobile-estimated-time").html(info);
                    } else {
                        $(".mobile-estimated-time").html(alert);
                    }
                }
            }

            function toggleChevron(e) {
                $j(e.target)
                    .prev('#title')
                    .find('.navbar-toggle span.glyphicon')
                    .toggleClass('glyphicon-chevron-up glyphicon-chevron-down');
            }
        
		$j('input[name="email"]').on('input', function() {
            const trimmedValue = $(this).val().trim();
            $(this).val(trimmedValue);
        });
	});
</script>





        <script>
            $j(document).ready(function() {
                // Use sessionStorage to prevent the popup from showing on every page load
                if(sessionStorage.getItem('modalShown') !== 'shown'){
                    // Check if page is not order type selection screen - which mean param_page != null
                    const urlParams = new URLSearchParams(window.location.search);
                    const param_page = urlParams.get('page');

                    if (param_page) {
                        const apple_itunes_app_id = "com.dpos.amalfipizza";
                        const google_play_id = "store.dpos.com.amalfipizza";
                        const userAgent = navigator.userAgent || window.opera;
                        if(/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream && apple_itunes_app_id)
                        {
                            $j("#modal-app-download").modal("show");
                            $j("#cont-popup-download-app .show-on-ios").show();
                        }
                        else if(/android/i.test(userAgent) && google_play_id)
                        {
                            $j("#modal-app-download").modal("show");
                            $j("#cont-popup-download-app .show-on-android").show();
                        }

                        sessionStorage.setItem('modalShown','shown')
                    }
                }

                $j(".link-cancel").click(function(e){
                    e.preventDefault();
                    $j("#modal-app-download").modal("hide");
                });
            });
        </script>
    <script>
        $(document).ready(function() {
            // Search suburb/postcode option position bottom
			(function($) {
				var Defaults = $.fn.select2.amd.require('select2/defaults');
				$.extend(Defaults.defaults, {
					dropdownPosition: 'auto'
				});
				var AttachBody = $.fn.select2.amd.require('select2/dropdown/attachBody');
				var _positionDropdown = AttachBody.prototype._positionDropdown;
				AttachBody.prototype._positionDropdown = function() {
					var $window = $(window);
					var isCurrentlyAbove = this.$dropdown.hasClass('select2-dropdown--above');
					var isCurrentlyBelow = this.$dropdown.hasClass('select2-dropdown--below');
					var newDirection = null;
					var offset = this.$container.offset();
					offset.bottom = offset.top + this.$container.outerHeight(false);
					var container = {
						height: this.$container.outerHeight(false)
					};
					container.top = offset.top;
					container.bottom = offset.top + container.height;
					var dropdown = {
						height: this.$dropdown.outerHeight(false)
					};
					var viewport = {
						top: $window.scrollTop(),
						bottom: $window.scrollTop() + $window.height()
					};
					var enoughRoomAbove = viewport.top < (offset.top - dropdown.height);
					var enoughRoomBelow = viewport.bottom > (offset.bottom + dropdown.height);
					var css = {
						left: offset.left,
						top: container.bottom
					};
					var $offsetParent = this.$dropdownParent;
					if ($offsetParent.css('position') === 'static') {
						$offsetParent = $offsetParent.offsetParent();
					}
					var parentOffset = $offsetParent.offset();
					css.top -= parentOffset.top
					css.left -= parentOffset.left;
					var dropdownPositionOption = this.options.get('dropdownPosition');
					if (dropdownPositionOption === 'above' || dropdownPositionOption === 'below') {
						newDirection = dropdownPositionOption;
					} else {
						if (!isCurrentlyAbove && !isCurrentlyBelow) {
							newDirection = 'below';
						}
						if (!enoughRoomBelow && enoughRoomAbove && !isCurrentlyAbove) {
							newDirection = 'above';
						} else if (!enoughRoomAbove && enoughRoomBelow && isCurrentlyAbove) {
							newDirection = 'below';
						}
					}
					if (newDirection == 'above' || (isCurrentlyAbove && newDirection !== 'below')) {
						css.top = container.top - parentOffset.top - dropdown.height;
					}
					if (newDirection != null) {
						this.$dropdown
							.removeClass('select2-dropdown--below select2-dropdown--above')
							.addClass('select2-dropdown--' + newDirection);
						this.$container
							.removeClass('select2-container--below select2-container--above')
							.addClass('select2-container--' + newDirection);
					}
					this.$dropdownContainer.css(css);
				};
			})($j);

			// Search Store by Suburb or Postcode
			var chainStoresOptions = {
				placeholder: "Suburb Search",
				theme: "platina",
				dropdownPosition: 'below',
				minimumInputLength: 2,
				minimumResultsForSearch: 5,
				templateResult: formatRepo,
				language: {
					noResults: function () {
					return "Sorry, we do not serve that area. <a href='#' data-toggle='modal' data-target='#locationsModal' class='menu-locations'>Click here</a> to see our list of locations.";
					}
				},
				escapeMarkup: function (markup) {
					return markup;
				},			
				ajax: {
					url: "core/ajax/find_chain_streets.php",
					dataType: 'json',
					delay: 250,
					data: function (params) {
						return {
							q: params.term, page: params.page
						};
					},
					processResults: function (data) {
						
						$j("#getLocation").prop("disabled", false);
						
						if (data) {
							return {
								results: $.map(data.streets, function (item) {
									return {
										text: item.store_suburb, 
										id: item.client_code,
										item: item
									}
								})
							};
						}
					}
				}
			};

			$j("#chainStores").select2(chainStoresOptions);						
			// OOA-40 Select Suburb - Use My Location
			function showLocation(position) {
				var lat = position.coords.latitude;
				var lng = position.coords.longitude;
				var position = "location:"+lat+","+lng;
				$j("#chainStores").prop("disabled", false);
				$j("#chainStores").select2("open");
				$j("#chainStores").data("select2").dropdown.$search.val([position]).trigger("input");		
				$j("#chainStores").data("select2").dropdown.$search.val(null).trigger("change");		
			}

			var showOptions = {
				enableHighAccuracy: true,
				timeout: 10000,
				maximumAge: 0
			};

			function showError(error) {
				switch(error.code) {
					case error.PERMISSION_DENIED:
						alert("User denied the request for Geolocation.");
						$j("#chainStores").prop("disabled", false);
						break;
					case error.POSITION_UNAVAILABLE:
						alert("Location information is unavailable.");
						$j("#chainStores").prop("disabled", false);
						break;
					case error.TIMEOUT:
						alert("The request to get user location timed out.");
						$j("#chainStores").prop("disabled", false);
						break;
					case error.UNKNOWN_ERROR:
						alert("An unknown error occurred.");
						$j("#chainStores").prop("disabled", false);
						break;
				}
			}

			$j("#getLocation").on('click', function() {
				if (navigator.geolocation) {
					navigator.geolocation.getCurrentPosition(showLocation, showError, showOptions);
					$j("#chainStores").select2("close");
					
					$j("#getLocation").prop("disabled", true);					

					$j("#chainStores").prop("disabled", true);
				} else { 
					$j("#chainStores").prop("disabled", false);
					alert('Geolocation is not supported by this browser.');
				}
			});	
			
			// Update Selected Store Details
			// trigger switchStore function for suburb search
			$j("#chainStores").on("change", function () {
				var search_client_code = this.value;				
				if(search_client_code !== '') {
					//check is store is in progress
					var search_client_status = $j("#chainStores").select2('data')[0].item.client_status;
					if(search_client_status != 'in progress'){
						$j("#chainStores").prop("disabled", true);
						$j.ajax({
							method: 'GET',
							data: {'item_count': 1},
							url: 'core/ajax/checkorder.php',
						}).done(function (e) {
														
							var search_client_id = $j("#chainStores").select2('data')[0].item.client_id;
							var search_client_url = $j("#chainStores").select2('data')[0].item.client_url;
							if (e === '0') {
								switchStore(search_client_id, search_client_code,search_client_url);
							} else {
								if (search_client_code === $j('#client_code').val()) {
									switchStore(search_client_id, search_client_code,search_client_url);
									return;
								}
								var switchStoreHeading = 'Switch to ' + $j("#chainStores option:selected").text() + '?';
								$j('#storeSwitchPopup h4.modal-title').text(switchStoreHeading);
								$j('#storeSwitchPopupStoreName').text($j("#chainStores option:selected").text());
								$j('#storeSwitchPopup').modal('show');
							}
						});
					}else{
						var comingSoonStoreSwitchPopup = $j("#chainStores option:selected").text() + ' store is coming soon!';
						$j('#comingSoonStoreSwitchPopup h4.modal-title').text(comingSoonStoreSwitchPopup);
						$j('#comingSoonStoreSwitchPopup').modal('show');						
					}


				}
			});

            // New Delivery Address Search
			var searchFormOptions = {
				placeholder: "Enter your delivery location",
				theme: "platina delivery-address-search",
				dropdownPosition: 'below',
				minimumInputLength: 1,
				minimumResultsForSearch: 5,
				templateResult: formatRepoDelivery,
				language: {
					noResults: function () {
					return "Sorry, we do not serve that area. <a href='#' data-toggle='modal' data-target='#locationsModal' class='menu-locations'>Click here</a> to see our list of locations.";
					}
				},
				escapeMarkup: function (markup) {
					return markup;
				},
				ajax: {
					url: "core/ajax/find_nearest_stores.php",
					dataType: 'json',
					delay: 250,
					data: function (params) {
						return {
							q: params.term, page: params.page
						};
					},
					processResults: function (data) {

						$j("#searchNearest").prop("disabled", false);

						if (data) {
							return {
								results: $.map(data.streets, function (item) {
									return {
										text: item.store_suburb,
										id: item.client_code,
										item: item
									}
								})
							};
						}
					}
				}
			};

            $j("#searchForm").select2(searchFormOptions);
			// OOA-40 Select Suburb - Use My Location
			function showLocationDelivery(position) {
				var lat = position.coords.latitude;
				var lng = position.coords.longitude;
				var position = "location:"+lat+","+lng;
				$j("#searchForm").prop("disabled", false);
				$j("#searchForm").select2("open");
				$j("#searchForm").data("select2").dropdown.$search.val([position]).trigger("input");
				$j("#searchForm").data("select2").dropdown.$search.val(null).trigger("change");
			}

			function showErrorDelivery(error) {
				switch(error.code) {
					case error.PERMISSION_DENIED:
						alert("User denied the request for Geolocation.");
						$j("#searchForm").prop("disabled", false);
						break;
					case error.POSITION_UNAVAILABLE:
						alert("Location information is unavailable.");
						$j("#searchForm").prop("disabled", false);
						break;
					case error.TIMEOUT:
						alert("The request to get user location timed out.");
						$j("#searchForm").prop("disabled", false);
						break;
					case error.UNKNOWN_ERROR:
						alert("An unknown error occurred.");
						$j("#searchForm").prop("disabled", false);
						break;
				}
			}

			$j("#searchNearest").on('click', function() {
				if (navigator.geolocation) {
					navigator.geolocation.getCurrentPosition(showLocationDelivery, showErrorDelivery, showOptions);
					$j("#searchForm").select2("close");

					$j("#searchNearest").prop("disabled", true);

					$j("#searchForm").prop("disabled", true);
				} else {
					$j("#searchForm").prop("disabled", false);
					alert('Geolocation is not supported by this browser.');
				}
			});

			// Update Selected Store Details
			// trigger switchStore function for suburb search
			$j("#searchForm").on("change", function () {
				var search_client_code = this.value;
				if(search_client_code !== '') {
					//check is store is in progress
					var search_client_status = $j("#searchForm").select2('data')[0].item.client_status;
					if(search_client_status != 'in progress'){
						$j("#searchForm").prop("disabled", true);
						$j.ajax({
							method: 'GET',
							data: {'item_count': 1},
							url: 'core/ajax/checkorder.php',
						}).done(function (e) {

							var search_client_id = $j("#searchForm").select2('data')[0].item.client_id;
							var search_client_url = $j("#searchForm").select2('data')[0].item.client_url;
							if (e === '0') {
								switchStore(search_client_id, search_client_code,search_client_url);
							} else {
								if (search_client_code === $j('#client_code').val()) {
									switchStore(search_client_id, search_client_code,search_client_url);
									return;
								}
								var switchStoreHeading = 'Switch to ' + $j("#searchForm option:selected").text() + '?';
								$j('#storeSwitchPopup h4.modal-title').text(switchStoreHeading);
								$j('#storeSwitchPopupStoreName').text($j("#searchForm option:selected").text());
								$j('#storeSwitchPopup').modal('show');
							}
						});
					}else{
						var comingSoonStoreSwitchPopup = $j("#searchForm option:selected").text() + ' store is coming soon!';
						$j('#comingSoonStoreSwitchPopup h4.modal-title').text(comingSoonStoreSwitchPopup);
						$j('#comingSoonStoreSwitchPopup').modal('show');
					}
				}
			});

			// OOA-1394: trigger switchStore function for store list
			$j("#storeListsModal").on( "click", ".storeLists-orderonline-btn", function() {		
				
				// Get store data
				var storeList_clientID = $(this).attr( "client_id");
				var storeList_clientCode = $(this).attr( "client_code");
				var storeList_clientURL = $(this).attr( "client_url");	
				var storeList_clientSuburb = $(this).attr( "client_suburb");	
				var storeList_storeName = $(this).attr( "store_Name");

				$j.ajax({
					method: 'GET',
					data: {'item_count': 1},
					url: 'core/ajax/checkorder.php',
				}).done(function (e) {
					if (e === '0') {											
						switchStore(storeList_clientID, storeList_clientCode, storeList_clientURL);						
					} else {	

						if (storeList_clientCode === $j('#client_code').val()) {
							// DO not show switch option popup if client code are the same
							switchStore(storeList_clientID, storeList_clientCode, storeList_clientURL);
							return;
						}

						var switchStoreHeading = 'Switch to ' + storeList_clientSuburb + '?';
						$j('#storeSwitchPopup_2 h4.modal-title').text(switchStoreHeading);
						$j('#storeSwitchPopup_2 #storeSwitchPopupStoreName').text(storeList_storeName);						

						// Add store details needed for switching store
						$("#storeSwitchPopup_2 #storelist-switch-option-ok").attr( "client_id", storeList_clientID);
						$("#storeSwitchPopup_2 #storelist-switch-option-ok").attr( "client_code", storeList_clientCode);
						$("#storeSwitchPopup_2 #storelist-switch-option-ok").attr( "client_url", storeList_clientURL);

						$j('#storeSwitchPopup_2').modal('show');
					}
				});
			});

			// Switch Prompt for Suburb Search
			$j(".switch-option").on('click', function() {
				var switchValue = this.value;			

				if (switchValue === 'ok') {										
					var search_client_code = $j("#chainStores").val();
					var search_client_id = $j("#chainStores").select2('data')[0].item.client_id;
					var search_client_url = $j("#chainStores").select2('data')[0].item.client_url;
					switchStore(search_client_id, search_client_code,search_client_url);
				}
				
				if (switchValue === 'cancel') {
					$j("#chainStores").prop("disabled", false);
					$j("#chainStores").val('').trigger("change");
				}

			});
			
			// Switch Prompt for Store Lists
			$j(".storelist-switch-option").on('click', function() {
				var switchValue = this.value;				
				// Okay button for suburb search feature
				if (switchValue === 'ok') {										
					var search_client_code = $(this).attr( "client_code");
					var search_client_id = $(this).attr( "client_id");
					var search_client_url = $(this).attr( "client_url");
					switchStore(search_client_id, search_client_code,search_client_url);
				}	
			});
			
			function switchStore(search_client_id, search_client_code,search_client_url) {
				$j.ajax({
					method: 'GET',
					data: {
						'client_id': search_client_id,
						'client_code': search_client_code
					},
					dataType: 'json',
					url: 'core/ajax/change_store_session.php',
				}).done(function (e) {
					if (e.response_code == '02') {
						alert('Something went wrong. Please try again later.')
					} else {
						/*$j('html, body').animate({
							scrollTop: $('#store-data').offset().top
						}, 'slow', function() {
							$("#loader-platina").fadeIn();
							$("body").css("overflow", "hidden");
							}
							var uri = window.location.toString();
							if (uri.indexOf("#") > 0) {
								var clean_uri = uri.substring(0, uri.indexOf("#"));
								window.history.replaceState({}, document.title, clean_uri);
							}
							// window.location.href = search_client_url+"#store-data";
							// window.location.href = search_client_url;
						});*/
						window.location.href = search_client_url;
					}
				});
			}

			function formatRepo (data, e) {
				if (data.loading) {
					return data.text;
				}
				function camelCase(str) {
					str = str.toLowerCase()
					return str.replace(/(?:^|\s)\w/g, function(match) {
						return match.toUpperCase();
					});
				}
				var searchValue = $j("#chainStores").data("select2").dropdown.$search.val();
				var src_str = camelCase(data.item.store_suburb_postcode);
				var term = searchValue;
				term = term.replace(/(\s+)/,"(<[^>]+>)*$1(<[^>]+>)*");
				var pattern = new RegExp("("+term+")", "gi");
				// src_str = src_str.replace(pattern, "<span style='background: yellow;'>$1</span>");  //WD-520 : removed search word highlight
				src_str = src_str.replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1</mark>$2<mark>$4");
				var suburb_postcode = (data.item.distance_in_km ? "approximately "+data.item.distance_in_km+"km away" : src_str);							
				var state = (data.item.client_state != undefined) ? ' ('+data.item.client_state+')' : '';
				var client_status = (data.item.client_status === 'in progress') ? '<br/><span style="color: #c42328; font-sie: 14px; vertical-align: middle;">Coming Soon</span>' : '';
				var classStatus = (data.item.client_status === 'in progress') ? 'select2-result-store-inprogress' : '';

				var $container = $j(
				"<div class='select2-result-store "+classStatus+"'>" +
					"<div class='select2-result-store__meta'>" +
						"<div class='select2-result-store__title'>"+data.item.store_suburb+state+client_status+"</div>" +
						"<div class='select2-result-store__address'><img src='https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/store-address.svg'> "+data.item.store_address+"</div>" +
						"<div class='select2-result-store__store-suburb-postcode'><img src='https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/deliver.svg'> "+suburb_postcode+"</div>" +
					"</div>" +
				"</div>"
				);
				return $container;
			}

            function formatRepoDelivery (data, e) {
				if (data.loading) {
					return data.text;
				}
				function camelCase(str) {
					str = str.toLowerCase()
					return str.replace(/(?:^|\s)\w/g, function(match) {
						return match.toUpperCase();
					});
				}
				var searchValue = $j("#searchForm").data("select2").dropdown.$search.val();
				var src_str = camelCase(data.item.store_suburb_postcode);
				var term = searchValue;
				term = term.replace(/(\s+)/,"(<[^>]+>)*$1(<[^>]+>)*");
				var pattern = new RegExp("("+term+")", "gi");
				// src_str = src_str.replace(pattern, "<span style='background: yellow;'>$1</span>");  //WD-520 : removed search word highlight
				src_str = src_str.replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1</mark>$2<mark>$4");
				var suburb_postcode = (data.item.distance_in_km ? "approximately "+data.item.distance_in_km+"km away" : src_str);
				var state = (data.item.client_state != undefined) ? ' ('+data.item.client_state+')' : '';
				var client_status = (data.item.client_status === 'in progress') ? '<br/><span style="color: #c42328; font-sie: 14px; vertical-align: middle;">Coming Soon</span>' : '';
				var classStatus = (data.item.client_status === 'in progress') ? 'select2-result-store-inprogress' : '';

                var full_address = data.item.original_street_number+' '+data.item.street+', '+suburb_postcode;
                // Lowercase then capitalize first letter of each word
                full_address = full_address.toLowerCase().replace(/\b[a-z]/g, function(letter) {
                    return letter.toUpperCase();
                });

                var store_suburb = data.item.store_suburb;
                // Lowercase then capitalize first letter of each word
                store_suburb = store_suburb.toLowerCase().replace(/\b[a-z]/g, function(letter) {
                    return letter.toUpperCase();
                });

				var $container = $j(
				"<div class='select2-result-store "+classStatus+"'>" +
					"<div class='select2-result-store__meta'>" +
						"<div class='select2-result-store__store-suburb-postcode'><img src='https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/deliver.svg'> "+full_address + ' <strong>(Store: '+store_suburb+')</strong>' + client_status + "</div>" +
					"</div>" +
				"</div>"
				);
				return $container;
			}

						$j('.move-nav a').click(function() {
				var href = $(this).attr('href');
				if($(this).attr("data-target") != "#locationsModal") {
					window.location.href = '?page=browse' + href;
				}
			});
			
			
			var current_width = $(window).width();
			//THIS FIX IS FOR THE ANDROID VIEW KEYBOARD ISSUE
			if(current_width < 480){
				setTimeout(function () {
					let viewheight = $(window).height();
					let viewwidth = $(window).width();
					let viewport = document.querySelector("meta[name=viewport]");
					viewport.setAttribute("content", "height=" + viewheight + "px, width=" + viewwidth + "px, initial-scale=1.0");
				}, 300);
			}
		});
    </script>
	<script>
		// OOA-167 Platina - Franchise Option Contact Us 
		$(document).ready(function(){
			(function($){
					// do not allow string on phone field
					$('#inquiry-phone').keypress(function (e) {
						var regex = new RegExp("^[0-9]+$");
						var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
						if (regex.test(str)) {
							var mutating_value = $(this).val();
                			mutating_value = mutating_value.replace(/\s/g, "");
							if(mutating_value.length >= 10){
								return false;
							}

							return true;
						}	
						e.preventDefault();
						return false;
					});

					$('#inquiry-phone').keyup(function(e){
						var mutating_value = $(this).val(); 
						mutating_value = mutating_value.replace(/\s/g, "");

						var prefix = mutating_value.substring(0, 2);
						var masked = new Array(); //the actual string to be return
						
						if(prefix == "04"){
							var m = mutating_value.match(/^(\d{4})(\d{0,3})(\d{0,3})$/);
							if(m){
								for(m1 = 1; m1 < m.length; m1++){
									masked.push(m[m1]);
								}
							}
						}else if(mutating_value.length > 2){
							var m = mutating_value.match(/^(\d{0,2})(\d{0,4})(\d{0,4})$/);
							if(m){
								for(m1 = 1; m1 < m.length; m1++){
									masked.push(m[m1]);
								}
							}
						}
						
						if(masked.length > 0){
							$(this).val(masked.join(" ").trim());
						}else{
							$(this).val($(this).val().trim()); //just clear the extra white spaces
						}
					});
					
					// Nav Link
					$(".menu-franchise-inquiry").on('click', function() {
						$('#franchiseInquiryModal').modal('show');

						$('.franchise-btn-submit').show();
						$('.franchise-btn-submit').prop('disabled', false).html('Submit');		
						$('.franchise-btn-cancel').prop('disabled', false).html('Cancel');

						$('#inquiry-name, #inquiry-email, #inquiry-phone, #inquiry-message').removeAttr( 'style' );
						$('#inquiry-name-help, #inquiry-email-help, #inquiry-phone-help, #inquiry-message-help').hide();					
						$('#inquiry-name, #inquiry-email, #inquiry-phone, #inquiry-message').val( '' );
						
						$('#franchiseInquiryForm').show();
						$('#franchiseInquiryModal .alert').hide();
						$('#franchiseInquiryModal #loadin_bar').hide();
					});

					// Franchise Button
					$(".btn-franchise").on('click', function() {
						$('#franchiseInquiryModal').modal('show');

						$('.franchise-btn-submit').show();
						$('.franchise-btn-submit').prop('disabled', false).html('Submit');		
						$('.franchise-btn-cancel').html('Cancel');

						$('#inquiry-name, #inquiry-email, #inquiry-phone, #inquiry-message').removeAttr( 'style' );
						$('#inquiry-name-help, #inquiry-email-help, #inquiry-phone-help, #inquiry-message-help').hide();					
						$('#inquiry-name, #inquiry-email, #inquiry-phone, #inquiry-message').val( '' );
						
						$('#franchiseInquiryForm').show();
						$('#franchiseInquiryModal .alert').hide();
						$('#franchiseInquiryModal #loadin_bar').hide();
					});

					$(".franchise-inquiry-btn").on('click', function() {
						var franchiseBtnVal = this.value;

						$('#franchiseInquiryModal .alert').hide();
						$('#inquiry-name, #inquiry-email, #inquiry-phone, #inquiry-message').removeAttr( 'style' );
						$('#inquiry-name-help, #inquiry-email-help, #inquiry-phone-help, #inquiry-message-help').hide();	

						if (franchiseBtnVal === 'franchise-submit') {
							var name = $("#inquiry-name").val();
							var email = $("#inquiry-email").val();
							var phone = $("#inquiry-phone").val();
							var message = $("#inquiry-message").val();
							var invalid = 0;

							if (name == null || name == '' || !name.replace(/\s/g, '').length) {
								$('#inquiry-name').css( "border", "1px #CE2B37 solid" ).focus();   
								$('#inquiry-name-help').text("The field is required.").show();							
								invalid++;
							}	

							if (email == null || email == '') {
								$('#inquiry-email').css( "border", "1px #CE2B37 solid" );
								$('#inquiry-email-help').text("The field is required.").show();

								if(invalid === 0){
									$('#inquiry-email').focus();
								}

								invalid++;
							} else if (!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)) {
								$('#inquiry-email').css( "border", "1px #CE2B37 solid" );
								$('#inquiry-email-help').text("You have entered an invalid email address.").show();

								if(invalid === 0){
									$('#inquiry-email').focus();
								}

								invalid++;
							}

							if (phone == null || phone == '') {
								$('#inquiry-phone').css( "border", "1px #CE2B37 solid" );
								$('#inquiry-phone-help').text("The field is required.").show();

								if(invalid === 0){
									$('#inquiry-phone').focus();
								}

								invalid++;
							} else {
								var prefix = phone.substring(0, 2);
								var phoneNoSpace = phone.replace(/\s/g, "");
								var phoneInvalid = false;

								if(prefix === "04" || prefix === "05"){
									if(phoneNoSpace.length < 10 || phoneNoSpace.length > 10){
										phoneInvalid = true;
									}
								} else{
									if(phoneNoSpace.length < 8 || phoneNoSpace.length > 8){
										phoneInvalid = true;
									}
								}

								if(phoneInvalid){
									$('#inquiry-phone').css( "border", "1px #CE2B37 solid" );
									$('#inquiry-phone-help').text("Please enter a valid mobile phone number.").show();

									if(invalid === 0){
										$('#inquiry-phone').focus();
									}

									invalid++;
								}
							}

							if (message == null || message == '' || !message.replace(/\s/g, '').length) {
								$('#inquiry-message').css( "border", "1px #CE2B37 solid" );
								$('#inquiry-message-help').text("The field is required.").show();

								if(invalid === 0){
									$('#inquiry-message').focus();
								}

								invalid++;
							}	

							if(invalid === 0){
								$('#franchiseInquiryForm').hide();
								$('.franchise-btn-submit').prop('disabled', true).html('Sending...');
								$('.franchise-btn-cancel').prop('disabled', true);
								$('#franchiseInquiryModal #loadin_bar').show().html("<span style='text-align:center;'><img src='https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/loader.svg' style='width: 60px'></span><p>We are sending your enquiry...</p>");
								
								$.ajax({
									type: "POST",            
									url: 'core/ajax/franchiseEnquiry_send.php',
									data: {
										name: name,
										email: email,
										phone: phone,
										message: message,
									},
									success: function(data){
										var result = JSON.parse(data);
										if(result.status == true){
											$('#franchiseInquiryModal #loadin_bar').hide();
											$('#franchiseInquiryModal .alert').show().removeClass('alert-warning').addClass('alert-success').html('We got your message and will get back to you as soon as we can.<br>Thank you!');
											$('.franchise-btn-submit').hide();
											$('.franchise-btn-cancel').prop('disabled', false).html('Close');
										}else{
											$('#franchiseInquiryForm').show();
											$('#franchiseInquiryModal #loadin_bar').hide();
											$('#franchiseInquiryModal .alert').show().removeClass('alert-success').addClass('alert-warning').html('Something went wrong. Please try again!');      
											$('.franchise-btn-submit').prop('disabled', false).html('Submit');  
											$('.franchise-btn-cancel').prop('disabled', false);
										}
									}		
								}); 						
							}				
							
						}
						if (franchiseBtnVal === 'franchise-cancel') {
							$('#inquiry-name, #inquiry-email, #inquiry-phone, #inquiry-message').val('');
						}
					});

					//google map
					var map = null;
					var marker = null;
					function initializeGMap(locations) {
						
						markers = [];

						var centerLat = locations[0].lat;
						var centerLng = locations[0].lng;

						map = new google.maps.Map(document.getElementById('map_canvas'), {
							zoom: 12,
							center: new google.maps.LatLng(centerLat, centerLng),
							mapTypeId: google.maps.MapTypeId.ROADMAP
						});
						
						var i;
						for (i = 0; i < locations.length; i++) {  
							
							var client_status = locations[i].client_status;
							var coming_soon = (client_status === 'in progress') ? "<span class='locationsInfo-comingSoon'>Coming Soon</span>" : "";
							var client_state = (locations[i].client_state != undefined) ? ' <span class="storeState">('+locations[i].client_state+')</span> ' : ' ';

							var suburb = "<h3 class='locationsInfo-header'>" + locations[i].store_suburb + client_state + coming_soon + "</h3>";
							
							var url = "";
							if(client_status != "in progress"){
								url = "<div class='locationsInfo-btn-cont'><a href='" + locations[i].client_url + "' class='locationsInfo-btn'>Order Online</a></div>";
							}
							

							var address = "";
							if(locations[i].store_address != null){
								address = "<p class='locationsInfo-address'><span class='glyphicon glyphicon-map-marker'></span> " + locations[i].store_address + "</p>";
							}

							var phone = "";
							if(client_status != 'in progress' && locations[i].store_phone != null){							
								phone = "<p class='locationsInfo-phone'><span class='glyphicon glyphicon-earphone'></span> " + locations[i].store_phone + "</p>";
							}
							
							var serves_cuisine = "";
							if(client_status != 'in progress' && locations[i].serves_cuisine != null){
								serves_cuisine = "<p class='locationsInfo-address'><span class='glyphicon glyphicon-glass'></span> " + locations[i].serves_cuisine + "</p>";
							}

							var opening_hours = "";
							if(client_status != 'in progress'){
								if(locations[i].open_time == 0 || locations[i].close_time == 0){
									opening_hours = "<h4 style='margin-top:20px;font-size:14px;font-weight:600;'>Opening Hours: </h4><p><b>Pickup:</b> Closed<p>";
								}else{
									opening_hours = "<h4 style='margin-top:20px;font-size:14px;font-weight:600;'>Opening Hours: </h4><p><b>Pickup:</b> " + locations[i].open_time + " - " + locations[i].close_time + "<p>";
								}
							}
														
							var delivery_hours = "";
							if(client_status != 'in progress'){
								if(locations[i].pickup_only!='1'){
									if(locations[i].delivery_start_time == 0 || locations[i].delivery_end_time == 0){
										delivery_hours = "<p><b>Delivery:</b> Closed<p>";
									}else{
										delivery_hours = "<p><b>Delivery:</b> " + locations[i].delivery_start_time + " - " + locations[i].delivery_end_time + "<p>";
									}
									
								}else{
									delivery_hours = "<p style='font-weight: bold; margin-top: 20px; margin-bottom: 30px;'>Pickup Only</p>";
								}
							}

							var delivery_suburbs = "";
							if(locations[i].pickup_only!='1' && locations[i].delivery_suburbs != null){								
								// Clean List of Suburb
								var listOfSuburbs= locations[i].delivery_suburbs;
								var suburbsArr = listOfSuburbs.split(',');						
								suburbHTML = '';
								$.each(suburbsArr, function(key, value) {
									if(key!=0) {
										suburbHTML += ", <span class='listOfSuburb'> " + value.toLowerCase() + "</span>";
									}else{
										suburbHTML += "<span class='listOfSuburb'>" + value.toLowerCase() + "</span>";
									}
									
								});
								delivery_suburbs = "<h4 style='margin-top:20px;font-size:14px;font-weight:600;'>Delivery Areas: </h4><p class='locationsInfo-delivery'>" + suburbHTML + " </p> ";
							}

							marker = new google.maps.Marker({
								position: new google.maps.LatLng(locations[i].lat, locations[i].lng),
								map: map,
								icon: 'https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/map-marker.png',
								animation : google.maps.Animation.DROP
							});
							
							var contentString = "<div class='locationsInfo'>" + suburb + address + phone + serves_cuisine + opening_hours + delivery_hours + delivery_suburbs + url  + "</div>";
							var infowindow = new google.maps.InfoWindow();
							google.maps.event.addListener(marker, 'click', (function(marker, contentString, i) {
								return function() {
									infowindow.setContent(contentString);
									infowindow.open(map, marker);
								}
							})(marker, contentString, i));
							
							// add custom class to google map infowindow
							google.maps.event.addListener(infowindow,'domready',function(){ 
								$('.locationsInfo').closest('.gm-style-iw').parent().addClass('custom-iw');
							});

							markers.push(marker);
						}
					}
					
					// trigger to open locations modal when linked is clicked
					$('#locationsModal').on('show.bs.modal', function(event) {
						$('#locationsModal .franchise-locations').hide();
						$('#locationsModal #map_canvas').hide();
						$('#locationsModal #loadin_bar').show().html("<span style='text-align:center;'><img src='https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/loader.svg' style='width:5%;margin-top:15%;'></span>");
						//Display Locations
						$.ajax({
							method: 'GET',
							data: {
								'account_id': 51							},
							dataType: 'json',
							url: 'core/ajax/get_multi_store.php',
						}).done(function (data) {
							
							$('#locationsModal .franchise-locations').show();
							$('#locationsModal #map_canvas').show();
							$('#locationsModal #loadin_bar').hide();

							var storeList_html = "";
							var storeList_html2 = "";
							var i = 0;
							let states = [];
							$.each(data, function(k, v) {
								var store_suburb = (v.store_suburb || 'Not Set');
								var client_status = (v.client_status === 'in progress') ? '- <span class="sub-list-comingSoon" style="color: #a51419">Coming Soon</span>' : '';
								var client_state = v.client_state;
								states.push(client_state);
								storeList_html += '<a class="sub-list-group-item list-group-item list-group-item-action" href="#" id="' + client_state + '" menu-id="' + i + '">' + store_suburb + ' <span class="storeState"> ('+ client_state +') </span>' + client_status + '</a>';
								storeList_html2 += '<option class="option-list" value="'+i+'">' + store_suburb + ' ('+ client_state +') ' + client_status + '</option>';
								i++;
							});
							$('#locationsModal .modal-body .store-details-container .list-group').append(storeList_html);

							if(new Set(states).size === 1){ // Check if every client states are the same
								storeList_html2="";
								for(i = 0; i < data.length; i++){
									delete data[i]['client_state'];
									var store_suburb = (data[i]['store_suburb'] || 'Not Set');
									var client_status = (data[i]['client_status'] === 'in progress') ? ' - Coming Soon' : '';
									storeList_html2 += '<option class="option-list" value="'+i+'">'+store_suburb+client_status+'</option>';
								}
								$(".storeState").hide();
							}
							$('#locationsModal .modal-body .store-details-container #locationsSuburbList2').append("<option selected>Select a Suburb</option>" + storeList_html2);
							initializeGMap(data);
							$("#location-map").css("width", "100%");
							$("#map_canvas").css("width", "100%");
						});							
					});

					// open info box when li is clicked
					$("#locationsModal").on( "click", ".sub-list-group-item", function() {
						var locId = $(this).attr('menu-id');					
						var clickedMarker = markers[locId];

						google.maps.event.trigger(clickedMarker, 'click');
						map.setZoom(15);
						map.setCenter(clickedMarker.getPosition());
					});

					// open info box when options is clicked
					$("#locationsModal").on( "change", "#locationsSuburbList2", function() {
						var locId= $("#locationsSuburbList2 option:selected").val();
						google.maps.event.trigger(markers[locId], 'click');
						map.setZoom(15);
					});

					// clear ul when modal is clicked
					$('#locationsModal').on('hidden.bs.modal', function(event) {
						$('#locationsModal .modal-body .store-details-container .list-group').empty();
						$('#locationsModal .modal-body .store-details-container #locationsSuburbList2').empty();
					});


					// OOA-1394 Order Now Store list Platina Feature
					$('#storeListsModal').on('show.bs.modal', function(event) {
	
						$('#storeListsModal #accordion').empty();
						$('#storeListsModal #loadin_bar').show().html("<span style='text-align:center;'><img src='https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/loader.svg' style='width: 60px'></span>");

						// Get Store Data
						$.ajax({
							method: 'GET',
							data: {
								'account_id': 51							},
							dataType: 'json',
							url: 'core/ajax/get_multi_store.php',
						}).done(function (data) {
							
							$('#storeListsModal #loadin_bar').hide();

							var storeListModalHTML = "";
							var accordionHeaderHTML = "";
							var accordionBodyHTML = "";							
							let states = [];

							$.each(data, function(k, v) {							
								var store_suburb = (v.store_suburb || 'Not Set');								
								var client_status = (v.client_status || 'Not Set');
								var client_state = v.client_state;
								states.push(client_state);
								
								var acc_id = "storeListModal_"+v.client_id;
																
								//Accordion Header - Store Suburb Suburb
								if(client_status != 'in progress'){
									accordionHeaderHTML = '<div class="panel-heading panel-heading-active"><h4 class="panel-title">' + 
														'<a data-toggle="collapse" data-parent="#accordion" href="#'+acc_id+'"> ' + store_suburb + '<span class="storeState"> ('+ client_state +') </span></a>' + 
														'</h4></div>';
								}else{
									accordionHeaderHTML = '<div class="panel-heading panel-heading-inprogress"><h4 class="panel-title">'+store_suburb+'<span class="storeState"> ('+ client_state +') </span><span class="store-list-status">Coming Soon</span></h4></div>';
								}

								//Accordion Body - Store Detail
								if(client_status != 'in progress'){

									var clientAddress = "";
									if(v.store_address != null){
										clientAddress = "<p class='storeListModal-address'><span class='glyphicon glyphicon-map-marker'></span> " + v.store_address + "</p>";
									}

									var clientPhone = "";
									if(v.store_phone != null){							
										clientPhone = "<p class='storeListModal-phone'><span class='glyphicon glyphicon-earphone'></span> " + v.store_phone + "</p>";
									}

									var clientOpeningHours = "";
									if(v.open_time == 0 || v.close_time == 0){
										clientOpeningHours = "<p>Opening Hours: </p><p class='storeListModal-pickup'><b>Pickup:</b> Closed<p>";
									}else{
										clientOpeningHours = "<p>Opening Hours: </p><p class='storeListModal-pickup'><b>Pickup:</b> " + v.open_time + " - " + v.close_time + "<p>";
									}
																
									var clientDeliveryHours = "";
									if(v.pickup_only!='1'){
										if(v.delivery_start_time == 0 || v.delivery_end_time == 0){
											clientDeliveryHours = "<p class='storeListModal-delivery'><b>Delivery:</b> Closed<p>";
										}else{
											clientDeliveryHours = "<p class='storeListModal-delivery'><b>Delivery:</b> " + v.delivery_start_time + " - " + v.delivery_end_time + "<p>";
										}										
									}else{
										clientDeliveryHours = "<p class='storeListModal-pickup'>Pickup Only</p>";
									}	

									var clientURL = "";
									if(v.client_url != null){	
										clientURL = "<div class='store-list-btn'><button type='button' class='btn btn-default storeLists-orderonline-btn' data-dismiss='modal' client_id='"+v.client_id+"' client_code='"+v.client_code+"'  client_url='"+v.client_url+"' client_suburb='"+v.store_suburb+"' store_name='"+v.store_name+"' >Order Online</button></div>";
									}									
									
									accordionBodyHTML = '<div id="'+acc_id+'" class="panel-collapse collapse">'+
														'<div class="panel-body"><div class="row">' + 
														'<div class="col-md-4">' + clientAddress + clientPhone + '</div>' + 
														'<div class="col-md-4">' + clientOpeningHours + clientDeliveryHours + '</div>' + 
														'<div class="col-md-4">' + clientURL + '</div>' +
														'</div></div></div>';
								}
								
								//Build Accordion HTML
								storeListModalHTML += '<div class="panel panel-default">'+accordionHeaderHTML+accordionBodyHTML+'</div>';
							});
							$('#storeListsModal #accordion').append(storeListModalHTML);							
							if(new Set(states).size === 1){ // Check if every client states are the same
								$(".storeState").hide();
							}
						});																						

					});


			})($j);
			
			if($(window).width() <= 320) {
					$('div.item-title').each(function(){
					var truncated = $(this).text().substr(0, 29);
					$(this).text(truncated+(truncated.length<29?'':'...'));
				});
			}
		});	
	</script>
	
	<script>
		$(document).ready(function(){
			// WEB-1114 Add new order type selection before store selection
			                                    $("#order-type-select").hide();
                    $("#store-select").show();
						
							$('.order-type-icon-group').html('<img class="order-type-icon" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/pickup.png" />');
				$('.order-type-text').html('Pick up Order');
			
			if ($('#estimated-time .estimated-time-bg').html() == '') {
				$('#estimated-time').hide();
			}

			//check_estimated_time();

			$(".order-type-bt").click(function(){
				var order_type = this.value;

				$('.order-type-bt').removeClass('active');
				$("#order-type-bt-pickup, #order-type-bt-delivery").prop('disabled', false);				

				$("#order-type-select").hide();

				$('#store-select').fadeIn("fast");				

				$(".mi-loader").css("display", "block");

				if ($(window).width() > 1024) {
					$('#estimated-time').show();
				}
				
				setTimeout(() => {
					change_order_type(order_type);
				}, 100);
			});

			$("#float-box .order-type-bt").click(function(){
				$('#store-select').hide();
				$("#store-details").fadeIn("fast");				
			});

			$(".change-order-type-btn").click(function(){
				$("#store-select").hide();
				$("#store-details").hide();				
				$('#order-type-select').fadeIn("fast");
			});

			// Update #store-data height when the inner #store container height changes - mobile only
			if ($(window).width() < 768) {
				const store_container = document.querySelector('#store');

				const resizeObserver = new ResizeObserver(() => {
					$('#store-data').height(store_container.offsetHeight + 100);
				});

                if (store_container !== null) {
				    resizeObserver.observe(store_container);
                }
			}

			if(window.history.replaceState){
				window.history.replaceState(null, null, window.location.href);
			}

			resizeStoreComponents();
		});

		function change_order_type(order_type) {
			$('.order-type-bt[value="'+order_type+'"]').addClass('active');
			$("#current_order_type_holder").val(order_type);
			$('#order-type-bt-'+order_type).addClass('active');

            $('.order-type-store-searchbar .select2-container--platina').hide();

			if (order_type == 'pickup') {
				$('.order-type-icon-group').html('<img class="order-type-icon" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/pickup.png" />');
				$('.order-type-text').html('Pick up Order');

				$('.order-type-store-searchbar #chainStores').show();
                $('.order-type-store-searchbar #select2-chainStores-container').parents('.select2-container--platina').first().show();
				$('#getLocation').show();
				$('#searchNearest').hide();							
				$('.order-type-store-searchbar #searchForm').hide();
			} else if (order_type == 'delivery') {
				$('.order-type-icon-group').html('<img class="order-type-icon" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/delivery.png" />');
				$('.order-type-text').html('Delivery Order');

				$('.order-type-store-searchbar #chainStores').hide();
                $('.order-type-store-searchbar #select2-searchForm-container').parents('.select2-container--platina').first().show();
				$('#getLocation').hide();
				$('#searchNearest').show();
				$('.order-type-store-searchbar #searchForm').show();
			}
			
			$.ajax({
				method: 'POST',
				url: 'core/ajax/set_order_type.php',
				dataType: 'JSON',
				data: {order_type: order_type}
			}).success(function (data) {		
				if ($('#menu-cont').length != 0) {
					//loads menu from api
					var tempReorder = $('#menuitems-reorder').prop('outerHTML');
					$('#menu-cont').load('api/getmenu.html', {client_id:1452, order_type:order_type, menu_type:'both'}, function (data, status, xhr) {
						if (status != "error") {
							menu_nav();
							get_cart_total();	
						} 

						$("#menu-items").prepend(tempReorder);
						lastreorderbutton();
					});
				}

				if ($('#estimated-time .estimated-time-bg').html() == '') {
					$('#estimated-time').hide();
				} 
			});
		}		
	</script>
</head>
<!----------- HEADER ----------->
<body class="loading" data-spy="scroll" data-target=".navbar" data-offset="300" data-offset-top="300">
<div id="product_version">
	<div class="modal fade in" show="false" id="version_update" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">We've updated our app!</h4>
				</div>
				<div class="modal-body">
				Hi there! We've made some changes to our app, delete this one and download the latest version from the app store. Don't worry you will still be able to use the same login!
				</div>
			</div>
		</div>
	</div>
</div>
<!-- email confirmation code modal - start -->
<div class="modal fade" id="email_confirmation_container" role="dialog" data-backdrop="static" data-keyboard="false" style="background-color:unset;">
    <div class="modal-dialog modal-dialog-centered" style="display:flex; align-items:center; min-height:calc(100% - (1.75rem * 2));">
        <div class="modal-content" style="display:flex; flex-direction:column; width:100%;">
            <div class="modal-header">
                <h4 class="modal-title">EMAIL VERIFICATION</h4>
            </div>
            <div class="modal-body">
				<div class="reg-alert alert" role="alert" style="display:none;"></div>
                <p>Please type the verification code sent to <span id="confirm_email_address"></span></p>
				<div class="form-group">
					<input type="text" id="email_confirm_code" class="form-control" style="text-align:center; letter-spacing:10px" maxlength="6" placeholder="******" autocomplete="off"/>
				</div>
            </div>
            <div class="modal-footer">
				<button id="email_confirm_cancel" class="btn btn-default" data-dismiss="modal">Close</button>
                <button id="email_confirm_continue" class="btn btn-primary disabled">Continue</button>
            </div>
        </div>
    </div>
</div>
<!-- email confirmation code modal - end -->
<!-- phone confirmation code modal - start -->
<div class="modal fade" id="confirmation_container" role="dialog" data-backdrop="static" data-keyboard="false" style="background-color:unset;">
    <div class="modal-dialog modal-dialog-centered" style="display:flex; align-items:center; min-height:calc(100% - (1.75rem * 2));">
        <div class="modal-content" style="display:flex; flex-direction:column; width:100%;">
            <div class="modal-header">
                <h4 class="modal-title">MOBILE VERIFICATION</h4>
            </div>
            <div class="modal-body">
				<div class="reg-alert alert" role="alert" style="display:none;"></div>
                <p>Please type the verification code sent to <span id="confirm_mobile_number"></span></p>
				<div class="form-group">
					<input type="text" id="confirm_code" class="form-control" style="text-align:center; letter-spacing:10px" maxlength="6" placeholder="******" autocomplete="off"/>
				</div>
				<p>Did not receieve a code? <span id="confirm_resend_code" style="color:#f1826b; cursor:pointer; font-weight:bold;">Resend code</span></p>
            </div>
            <div class="modal-footer">
                <button id="confirm_continue" class="btn btn-primary disabled">Continue</button>
            </div>
        </div>
    </div>
</div>
<!-- phone confirmation code modal - end -->
<div id="login-wrap">
	<div id='login-section'>
		            <script>
            function isEmail(email) {
            var EmailRegex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            return EmailRegex.test(email);
        }
    
    function update_address(customer){
        $("#login-section .login-card, #login-section .otp-card").hideElem();
        $("#login-section .customer-details-card").showElem();

        $("#login-section .customer-details-card #create-account .account-second input[name='unitNumber']").val(customer.deliveryUnitNumber);
        $("#login-section .customer-details-card #create-account .account-second input[name='houseNumber']").val(customer.deliveryStreetNumber);

        if(customer.deliveryStreetSuburb != ", " && customer.deliveryStreetSuburb != ","){
            $("#login-section .customer-details-card #create-account .account-second select[name='deliveryStreet']").append('<option value="'+customer.deliveryStreetSuburb+'">'+customer.deliveryStreetSuburb+'</option>');
        }

        $("#login-section .customer-details-card #create-account .account-second input[name='deliveryInstructions']").val(customer.delivery_instructions);

        $("#login-section .customer-details-card #login-label").parent().remove();
        $("#login-section .customer-details-card .slider li button.active").addClass("previous").removeClass("active").parent().next("li").find("button").addClass("active");
        $("#login-section .customer-details-card .slider").hideElem();
        $("#login-section .customer-details-card .password-wrapper").addClass("cover").hideElem();
        $("#login-section .customer-details-card .create-account .account-header h3").text("Fill your delivery details");
        $("#login-section .customer-details-card .create-account .account-first").hideElem().next().showElem();
        $("#login-section .customer-details-card .create-account .btn-skip").removeClass("first second third").addClass("second").remove();

        $("#login-section .customer-details-card .btn-2-block").removeClass("first second third").addClass("update-address").prop("disabled", true).after('<button type="button" class="btn btn-primary"><i class="fa-solid fa-arrow-left-long"></i> Back to Menu</button>');
        $("#login-section .customer-details-card #create-account div.alert").addClass("alert-danger").text(customer.address_err_msg).showElem().hideMsg(5);

        var form = $j("#login-section .customer-details-card #create-account .account-second .form-control:visible");
        var initial_form_data = form.serialize();
        $j("#login-section .customer-details-card #create-account .account-second .form-control:visible").off('change');
        $j("#login-section .customer-details-card #create-account .account-second .form-control:visible").on('change', function(){
            var current_form_data = form.serialize();

            $("#login-section .customer-details-card .btn-2-block").prop("disabled", true);
            if(current_form_data !== initial_form_data){
                $("#login-section .customer-details-card .btn-2-block").prop("disabled", false);
            }
        });
    }

    $(document).ready(function(){
                    var otp_input_wrap = $("#login-section .otp-card #otp-box"),
                otp_input = $("#login-section .otp-card #otp-box .login"),
                otp_final_input = "",
                skip_reg = false,
                customer_exist = false,
                customer_phone = "",
                otp_attempt = 1;
            
            function otp_count(){
                otp_final_input = "";
                if(otp_input.length){
                    otp_input.each(function(){
                        if($.trim($(this).val())!=""){
                            otp_final_input += $(this).val();
                        }
                    });
                }
            }
            
            function start_otp_input(){
                if(otp_input.length){
                    otp_input.each(function(){
                        $(this).val("");
                    });
                    otp_attempt = 1;

                    update_otp_input(otp_input_wrap.children(":first"), false);
                }
            }

            function update_otp_input(element, disabledStatus){
                if(!disabledStatus){
                    element.focus();
                } else{
                    element.blur();
                }
            }

            function check_customer(_this){
                var data = {};

                if(_this.attr("name") == "phoneNumber"){
                    data['phoneNumber'] = _this.val();
                    data['registerwith'] = (typeof _this.data('registerwith') !== "undefined" ? _this.data('registerwith') : "");
                } else{
                    data['email'] = _this.val();
                }

                if($("#login-section .customer-details-card .btn-2-block").data("login-type") !== undefined && $("#login-section .customer-details-card .btn-2-block").data("login-type") === "guest"){
                    data['guest'] = 1;
                }
                
                return $.ajax({
                    type: "POST",
                    url: "https://amalfipizza.com.au/core/ajax/check_customer.php",
                    data: data,
                    success: function(data){
                        if(data.isError === true){
                            _this.closest(".form-group").find("label.error").text(data.errorMessage).showElem();
                            error_occured = true;
                        } else{
                            _this.closest(".form-group").find("label.error").hideElem().text("");
                        }
                    }
                });
            }

            function check_phone(phone){
                var prefix = phone.substring(0,2),
                    phone_val = phone.replace(/\s/g, ""),
                    invalid_phone = true;

                if(IS_AUS && (prefix === "04" || prefix === "05") && phone_val.length >= 10 && phone_val.length <= 10){
                    invalid_phone = false;
                }else{
                    if(IS_AUS){
                        if(phone_val.length >= 8 && phone_val.length <= 8){
                            invalid_phone = false; // if country is australia and prefix is not 04 or 05, we only allow 8 numbers
                        }
                    } else if(phone_val.length >= 8 && phone_val.length <= 11){
                        invalid_phone = false;
                    }
                }

                return invalid_phone;
            }
        
        function validate_form(element){
            var error_occured = false,
                new_pass = '',
                confirm_pass = '',
                compare_pass = false;
            
            $(".form-control.required:visible").closest(".form-group").find("label.error").hideElem().text("");
            element.find(".form-control.required:visible").each(function(){
                var invalid = false,
                    _this = $(this);

                _this.data("state", "submitted");
                
                if(_this.hasClass("required")){
                    if($.trim(_this.val())==""){
                        _this.closest(".form-group").find("label.error").text("This field is required").showElem();
                        error_occured = invalid = true;
                    }
                }

                if(!invalid && _this.attr("name") == "email"){
                    var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                    if(!regex.test(_this.val())){
                        _this.closest(".form-group").find("label.error").text("Please enter a valid email address").showElem();
                        error_occured = invalid = true;
                    }
                }

                if(!invalid && _this.attr("name") == "phoneNumber"){
                    if(check_phone(_this.val())){
                        _this.closest(".form-group").find("label.error").text("Please enter a valid phone number").showElem();
                        error_occured = invalid = true;
                    }
                }

                if(!invalid && _this.attr("name") === "password"){
                    if(_this.val().length < 6){
                        _this.closest(".form-group").find("label.error").text("Please enter at least 6 characters").showElem();
                        error_occured = invalid = true;
                    } else{
                        new_pass = _this.val();
                        compare_pass = true
                    }
                }

                if(!invalid && _this.attr("name") === "retypePassword"){
                    confirm_pass = _this.val();
                    compare_pass = true;
                }
            });

            if(compare_pass && new_pass !== confirm_pass){
                $("input[name='retypePassword']").closest(".form-group").find("label.error").text("Passwords do not match").showElem();
                error_occured = true;
            }

            return (!error_occured) ? true : false;
        }

        function hide_customer_form(){
            $("#login-section .customer-details-card .form-control.required").removeData("state");
            $("#login-section .customer-details-card .form-control").closest(".form-group").find("label.error").hideElem().text("");
            $("#login-section .customer-details-card").hideElem();
            $("#login-section .customer-details-card .slider").showElem();
            $("#login-section .customer-details-card .slider li button").removeClass("active previous");
            $("#login-section .customer-details-card .slider li:last").showElem();
            $("#login-section .customer-details-card .slider li:first button").addClass("active");
            $("#login-section .customer-details-card .create-account .account-header h3").text("Create Account");
            $("#login-section .customer-details-card .create-account .account-first").css("display", "");
            $("#login-section .customer-details-card .password-wrapper").removeClass("cover");
            $("#login-section .customer-details-card .customer-marketing-material-wrapper").showElem();
            $("#login-section .customer-details-card [name='customer_marketing_material']").prop("checked", true);
            createAccountRenderSize();
            $("#login-section .customer-details-card .password-wrapper").addClass("cover").hideElem();
            $("#login-section .customer-details-card .create-account .account-second, #login-section .customer-details-card .create-account .account-third, #login-section .customer-details-card .create-account .btn-skip").hideElem();
            $("#login-section .customer-details-card #register-phone").removeData("registerwith").prop("readonly", true);
            $("#login-section .customer-details-card [name='email']").removeAttr("readonly");
            $("#login-section .customer-details-card .btn-2-block").prop("disabled", false).removeClass("second third update-address").addClass("first").text("Continue").removeData("loginType");
            $("#login-section .customer-details-card .create-account .btn-skip").removeClass("second third").addClass("first");
        }

        function createAccountRenderSize(){
            if($("#login-section .customer-details-card .btn-2-block").data("login-type") !== undefined && $("#login-section .customer-details-card .btn-2-block").data("login-type") === "guest"){
                $("#login-section .customer-details-card .create-account .account-first").css({
                    "display": "",
                    "overflow-x": "",
                    "height": "",
                    "margin-bottom": ""
                });
            } else{
                if($(window).width() <= 420 && $(window).height() <= 740){
                    $("#login-section .customer-details-card .create-account .account-first:has(> .password-wrapper:not(.cover))").css({
                        "display": "inline-block",
                        "overflow-x": "auto",
                        "height": ($(window).height() - 220) + "px",
                        "margin-bottom": "10px"
                    });
                } else{
                    $("#login-section .customer-details-card .create-account .account-first:has(> .password-wrapper:not(.cover))").css({
                        "display": "",
                        "overflow-x": "",
                        "height": "",
                        "margin-bottom": ""
                    });
                }
            }
        }

        $.fn.hideElem = function(){
            $(this).css("display", "none");
            return this;
        };

        $.fn.showElem = function(){
            $(this).fadeIn(100);
            return this;
        };

        $.fn.hideMsg = function(timeOut){
            if(timeOut != undefined){
                var _this = $(this);
                setTimeout(function(){ 
                    if(_this.is(":visible")){
                        _this.fadeOut(500);
                    }
                }, (timeOut * 1000));
            }
            return this;
        }

                    $("#login-section .close").click(function(){
                if(!$(this).hasClass("disabled")){
                    clearInterval(countdown_timer);
                    $("#login-section .login-card, #login-section .login-card #phone-number-form").css("display", "");
                    $("#login-section .login-card .forgot-password, #login-section .password-reset-card, #login-section .otp-card, #login-section .customer-details-card").hideElem();
                    $("#login-section .login-card #email-form").hideElem();
                    $("#login-section .login-card .login-with, #login-section .login-card .disable-social, #login-section .otp-card #login-label, #login-section .login-card .forgot-password, #login-section .password-reset-card #login-label").removeClass("disabled");
                    $("#login-section .otp-card .login-modal-header").css("display", "");
                    $("#login-section .login-card .btn-2-block, #login-section .password-reset-card .btn-2-block").prop("disabled", false);
                    $("#login-section .otp-card .resend-code").html("Resend code").removeClass("disabled");
                    $("#login-section .otp-card .btn-2-block").removeData("registerwith").prop("disabled", true);
                    $("#login-section .login-card .login-with").text("Login with Password").removeClass("mobile").addClass("password");
                    $("#login-section .login-card #login-label h3").css("font-size", "").text("What's your mobile number?");
                    $("#login-section .login-card .btn-2-block").removeClass("password").addClass("mobile");
                    $("#login-section .customer-details-card #login-label").parent().hideElem();
                    hide_customer_form();
                    $("#login-section .customer-details-card #register-phone").prop("readonly", true);
                    $("#login-section .alert").removeClass("alert-success alert-danger").hideElem().text("");
                    $("#login-section input[type='text'], #login-section input[type='tel'], #login-section .customer-details-card .password-wrapper input[type='password']").val("");

                                            $("#login-section .login-card #login-label h3").css("font-size", "1.4em").text("What's your email or mobile number?");
                        $("#login-section .login-card #email-form, #login-section .login-card .forgot-password").showElem();
                        $("#login-section .login-card .btn-2-block").removeClass("mobile").addClass("password");
                        $("#login-section .customer-details-card #login-label").parent().showElem();
                    
                    skip_reg = false;
                    customer_exist = false;
                    customer_phone = "";
                }
            });

            $("#login-section .login-card #phone-number-form #login-phone, #login-section .customer-details-card #register-phone").keyup(function(){
                var mutating_value = $(this).val(); 
                    mutating_value = mutating_value.replace(/\s/g,"");

                var prefix = mutating_value.substring(0,2),
                    masked = new Array(), // the actual string to be return
                    result,
                    is_mask = false;

                if(IS_AUS && prefix == "04"){
                    result = mutating_value.match(/^(\d{4})(\d{0,3})(\d{0,3})$/);
                    is_mask = true;
                }else if(mutating_value.length > 2){
                    result = mutating_value.match(/^(\d{0,3})(\d{0,3})(\d{0,4})$/);
                    is_mask = true;
                }

                if(is_mask){
                    if(result){
                        for(m1 = 1; m1 < result.length; m1++){
                            masked.push(result[m1]);
                        }
                    }
                }
                
                if(masked.length > 0){
                    $(this).val(masked.join(" ").trim());
                }else{
                    $(this).val($(this).val().trim()); // just clear the extra white spaces
                }
            });

            $j("#login-section .login-card #phone-number-form #login-phone, #login-section .customer-details-card #register-phone").on("keydown", function(e){
                if(e.keyCode !== 46 && e.keyCode !== 8 && e.keyCode !== 9){ // always allow delete and backspace
                    if(e.which == 32){
                        return false;
                    }
                    
                    var key_ = e.key;
                    if(!(("0123456789").indexOf(key_) > -1)){
                        return false;
                    }
                
                    var mutating_value = $(this).val();
                    mutating_value = mutating_value.replace(/\s/g,"");
                    
                    // since we remove the max length on the validate rules
                    if(mutating_value.length >= 10){
                        return false;
                    }
                }
            });

            $("#login-section .login-card .login-with").click(function(){
                if(!$(this).hasClass("disabled")){
                    $("#login-section .login-card .alert").removeClass("alert-success alert-danger").hideElem().text("");
                    if($(this).hasClass("password")){
                        $(this).siblings().showElem();
                        $(this).text("Login with Mobile Number").removeClass("password").addClass("mobile");
                        $("#login-section .login-card #login-label h3").css("font-size", "1.4em").text("What's your email or mobile number?");
                        $("#login-section .login-card #phone-number-form").hideElem();
                        $("#login-section .login-card #email-form").showElem();
                        $("#login-section .login-card .btn-2-block").removeClass("mobile").addClass("password");
                    } else{
                        $(this).siblings().hideElem();
                        $(this).text("Login with Password").removeClass("mobile").addClass("password");
                        $("#login-section .login-card #login-label h3").css("font-size", "").text("What's your mobile number?");
                        $("#login-section .login-card #phone-number-form").showElem();
                        $("#login-section .login-card #email-form").hideElem();
                        $("#login-section .login-card .btn-2-block").removeClass("password").addClass("mobile");
                    }
                }
            });

            $("#login-section .login-card .sign-up").click(function(){
                $("#login-section .login-card").hideElem();
                $("#login-section .customer-details-card").showElem();
                $("#login-section .customer-details-card #login-label").parent().showElem();
                $("#login-section .customer-details-card #register-phone").prop("readonly", false);
                $("#login-section .customer-details-card .password-wrapper").removeClass("cover").showElem();
                createAccountRenderSize();
            });

            $("#login-section .login-card .btn-2-block").click(function(){
                var _this = $(this);

                if($(this).hasClass("password")){
                    var error = false;
                    var email = $("#login-section .login-card #email-form #login-email");
                    var password = $("#login-section .login-card #email-form #login-pass");
                    $("#login-section .login-card .alert").removeClass("alert-success alert-danger").hideElem().text("");

                    email.css("border", "").next().removeClass("active").text("");
                    password.css("border", "").next().removeClass("active").text("");

                    if(!$.trim(email.val()).length){
                        email.css("border", "1px solid #ea868f").next().addClass("active").text(email.attr("placeholder"));
                        error = true;
                    }

                    if(!$.trim(password.val()).length){
                        password.css("border", "1px solid #ea868f").next().addClass("active").text(password.attr("placeholder"));
                        error = true;
                    }

                    if(error){
                        return false;
                    }

                    _this.text("Logging in...").prop("disabled", true);
                    email.prop("disabled", true);
                    password.prop("disabled", true);
                    $("#login-section .login-card .forgot-password, #login-section .login-card .login-with, #login-section .login-card .sign-up, #login-section .login-card .disable-social").addClass("disabled");

                    $.ajax({
                        type: "POST",
                        url: "https://amalfipizza.com.au/core/ajax/login.php",
                        data: { 'login_detail': email.val(), 'pw': password.val(), 'remember_me': true, 'login_referer': window.login_referer },
                        success: function(msg){
                            var name;
                            var obj = jQuery.parseJSON(msg);

                            if(obj.no_address){
                                update_address(obj);
                            } else{
                                var anchor = ($("#storeSelected").length > 0) ? '#store-data' : '';
                                
                                if(obj.response_code == "00"){
                                    if(window.login_referer == 'navbar'){
                                        window.location.href = '?page=browse' + anchor;
                                    } else if(window.login_referer == 'checkout'){
                                        window.location.href = 'index994a.html?page=checkout';
                                    } else if(window.login_referer == 'beercheckout'){
                                        if(obj.deliveryStreetSuburb == ''){
                                            window.location.href = 'index4a25.html?page=customer_details&amp;err_code=1005&amp;redirect_to_beer=1';
                                        }else{
                                            window.location = '';
                                        }
                                    } else{
                                        window.location.href = '?page=browse' + anchor;
                                    }
                                } else{
                                    _this.text("Login").prop("disabled", false);
                                    email.prop("disabled", false);
                                    password.prop("disabled", false);
                                    $("#login-section .login-card .forgot-password, #login-section .login-card .login-with, #login-section .login-card .disable-social").removeClass("disabled");
                                    $("#login-section .login-card .alert").addClass("alert-danger").text("The email or password entered is incorrect. Please change your password if you are having trouble logging in").showElem().hideMsg(5);
                                }
                            }
                        },
                        error: function(){
                            _this.text("Login").prop("disabled", false);
                            email.prop("disabled", false);
                            password.prop("disabled", false);
                            $("#login-section .login-card .forgot-password, #login-section .login-card .login-with, #login-section .login-card .disable-social").removeClass("disabled");
                            $("#login-section .login-card .alert").addClass("alert-danger").text("Unable to Process your request. Please try again later").showElem().hideMsg(5);
                        }
                    });
                } else{
                    $("#login-section .login-card .alert").removeClass("alert-success alert-danger").hideElem().text("");

                    var phone = $("#login-section .login-card #phone-number-form #login-phone");
                    phone.css("border", "").next().removeClass("active").text("");

                    if(!$.trim(phone.val()).length){
                        phone.css("border", "1px solid #ea868f").next().addClass("active").text(phone.attr("placeholder"));
                        return false;
                    }

                    var invalid_phone = check_phone(phone.val()),
                        phone_val = phone.val().replace(/\s/g, "");

                    if(invalid_phone){
                        phone.css("border", "1px solid #ea868f").next().addClass("active").text("Please enter a valid phone number");
                        return false;
                    }
                    
                    _this.text("Logging in...").prop("disabled", true);
                    phone.prop("disabled", true);
                    $("#login-section .login-card .login-with, #login-section .login-card .disable-social").addClass("disabled");

                    $.ajax({
                        type: "POST",
                        url: "https://amalfipizza.com.au/core/ajax/login.php",
                        data: { 'phone_number': phone_val, 'remember_me': true, 'login_referer': window.login_referer },
                        success: function(msg){
                            var name;
                            var obj = jQuery.parseJSON(msg);
                            var anchor = ($("#storeSelected").length > 0) ? '#store-data' : '';
                            
                            if(obj.response_code == "00"){
                                if(window.login_referer == 'navbar'){
                                    window.location.href = '?page=browse' + anchor;
                                } else if(window.login_referer == 'checkout'){
                                    window.location.href = 'index994a.html?page=checkout';
                                } else if(window.login_referer == 'beercheckout'){
                                    if(obj.deliveryStreetSuburb == ''){
                                        window.location.href = 'index4a25.html?page=customer_details&amp;err_code=1005&amp;redirect_to_beer=1';
                                    }else{
                                        window.location = '';
                                    }
                                } else{
                                    window.location.href = '?page=browse' + anchor;
                                }
                            } else{
                                _this.text("Login").prop("disabled", false);
                                phone.prop("disabled", false);
                                $("#login-section .login-card .login-with, #login-section .login-card .disable-social").removeClass("disabled");

                                if(typeof obj.otp_message === "undefined"){
                                    $("#login-section .login-card").hideElem();
                                    $("#login-section .otp-card").showElem();
                                    $("#login-section .otp-card .resend-code").addClass("disabled");
                                    resend_countdown("login-section .otp-card .resend-code");
                                    $("#login-section .otp-card .otp-phone").html(phone.val());
                                    $("#login-section .customer-details-card #register-phone").val(phone.val());

                                    customer_exist = (obj.response_code == "02") ? true : false;
                                    customer_phone = phone_val;
                                    start_otp_input();
                                } else{
                                    $("#login-section .login-card .alert").addClass("alert-danger").text(obj.otp_message).showElem().hideMsg(5);
                                }
                            }
                        },
                        error: function(){
                            _this.text("Login").prop("disabled", false);
                            phone.prop("disabled", false);
                            $("#login-section .login-card .login-with, #login-section .login-card .disable-social").removeClass("disabled");
                            $("#login-section .login-card .alert").addClass("alert-danger").text("Unable to Process your request. Please try again later").showElem().hideMsg(5);
                            customer_exist = false;
                            customer_phone = phone_val;
                        }
                    });
                }
            });

                            $("#login-section .login-card .btn-guest-checkout").click(function(){
                    $("#login-section .login-card").hideElem();
                    $("#login-section .customer-details-card").showElem();
                    $("#login-section .customer-details-card #login-label").parent().showElem();
                    $("#login-section .customer-details-card .create-account .account-header h3").text("Guest Account");
                    $("#login-section .customer-details-card #register-phone").prop("readonly", false);
                    $("#login-section .customer-details-card .password-wrapper").addClass("cover").hideElem();
                    $("#login-section .customer-details-card .customer-marketing-material-wrapper").hideElem();
                    $("#login-section .customer-details-card .btn-2-block").text("Continue as Guest").data("login-type", "guest");

                    if($("#current_order_type_holder").val() == "pickup"){
                        $("#login-section .customer-details-card .slider").hideElem();
                    } else{
                        $("#login-section .customer-details-card .slider li:last").hideElem();
                    }

                    createAccountRenderSize();
                });
            
            if(otp_input.length){
                otp_input.each(function(){
                    var element = $(this);
                    element.keyup(function(e){
                        $(this).val($(this).val().replace(/[^0-9]/g, ""));

                        if($(this).val().length == 1){
                            update_otp_input(element, true);
                            update_otp_input(element.next(), false);
                        } else if($(this).val().length == 0 && e.keyCode == 8){
                            element.prev().val("");
                            update_otp_input(element.prev(), false);
                        } else if($(this).val().length > 1){
                            $(this).val()($(this).val().split("")[0]);
                        }

                        otp_count();
                    });
                });

                $(window).keyup(function(e){
                    if(otp_final_input.length > 5){
                        $("#login-section .otp-card .btn-2-block").prop("disabled", false);
                        if(e.keyCode == 8){
                            update_otp_input(otp_input_wrap.children(":last"), false);
                            otp_input_wrap.children(":last").val("");
                            
                        }
                    } else{
                        $("#login-section .otp-card .btn-2-block").prop("disabled", true);
                    }
                });
            }

            $("#login-section .otp-card .btn-2-block").click(function(){
                var _this = $(this);

                _this.prop("disabled", true);
                $("#login-section .otp-card .otp-box .alert").removeClass("alert-success alert-danger").hideElem().text("");

                if(otp_attempt > 3){
                    $("#login-section .otp-card .otp-box .alert").addClass("alert-danger").text("You've exceeded the number of attempts. Please resend another code").showElem().hideMsg(5);
                    start_otp_input();
                    return false;
                }

                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: "https://amalfipizza.com.au/core/ajax/validate-otp.php",
                    data: {
                        'otp': otp_final_input,
                        'phone': customer_phone,
                        'ce': (customer_exist ? 1 : 0),
                        'login_referer': window.login_referer
                    },
                    success: function(data){
                        if(data.type == "success"){
                            if(data.customer_details.no_address){
                                update_address(data.customer_details);
                            } else{
                                _this.text("Logging in...");
                                clearInterval(countdown_timer);
                                var anchor = ($("#storeSelected").length > 0) ? '#store-data' : '';

                                if(window.login_referer == 'navbar'){
                                    window.location.href = '?page=browse' + anchor;
                                } else if(window.login_referer == 'checkout'){
                                    window.location.href = 'index994a.html?page=checkout';
                                } else if(window.login_referer == 'beercheckout'){
                                    if(obj.deliveryStreetSuburb == ''){
                                        window.location.href = 'index4a25.html?page=customer_details&amp;err_code=1005&amp;redirect_to_beer=1';
                                    }else{
                                        window.location = '';
                                    }
                                } else{
                                    window.location.href = '?page=browse' + anchor;
                                }
                            }
                        } else if(data.type == "register"){
                            if(typeof _this.data("registerwith") !== "undefined" && _this.data("registerwith") == "applesignin"){
                                $("#login-section .otp-card #login-label").addClass("disabled")
                                $("#login-section .otp-card .close").hideElem();
                                clearInterval(countdown_timer);
                                $("#login-section .otp-card .resend-code").addClass("disabled");

                                $.ajax({
                                    type: "POST",
                                    url: "https://amalfipizza.com.au/core/ajax/update-email.php",
                                    data: {
                                        "applesub": ($("#login-section .customer-details-card [name='password']").val().length) ? $("#login-section .customer-details-card [name='password']").val() : $("#login-section .customer-details-card [name='email']").val(),
                                        "phonenumber": $("#login-section .customer-details-card #register-phone").val().replace(/\s/g, "")
                                    },
                                    success: function(data){
                                        if(window.login_referer == "checkout"){
                                            window.location.href = "index994a.html?page=checkout";
                                        } else{
                                            var url = new URL(window.location.html);
                                            var location_href = (url.searchParams.get("logout") != null && url.searchParams.get("logout") == "true") ? "?page=browse" : window.location.href;
                                            
                                            window.location.href = location_href;
                                        }
                                    }
                                });
                            } else{
                                _this.prop("disabled", false);
                                $("#login-section .otp-card").hideElem();
                                clearInterval(countdown_timer);
                                $("#login-section .otp-card #otp-box input[name='otp-box[]']").val("");
                                $("#login-section .otp-card .resend-code").html("Resend code").removeClass("disabled");
                                $("#login-section .customer-details-card").showElem();
                                $("#login-section .customer-details-card #login-label").parent().hideElem();
                            }
                        }else{
                            _this.prop("disabled", false);
                            $("#login-section .otp-card .otp-box .alert").addClass("alert-danger").text(data.message).showElem().hideMsg(5);
                        }

                        otp_attempt++;
                    },
                    error: function(){
                        _this.prop("disabled", false);
                        $("#login-section .otp-card .otp-box .alert").addClass("alert-danger").text("Unable to Process your request. Please try again later").showElem().hideMsg(5);
                    }
                });
            });

            $("#login-section .otp-card .resend-code").click(function(){
                if(!$(this).hasClass("disabled")){
                    var _this = $(this);
                    _this.html("Resending...").addClass("disabled");
                    $("#login-section .otp-card .otp-box .alert").removeClass("alert-success alert-danger").hideElem().text("");

                    $.ajax({
                        type: "POST",
                        dataType: 'json',
                        data: { 'phone': customer_phone },
                        url: "https://amalfipizza.com.au/core/ajax/resend-otp.php",
                        success: function(data){
                            if(data.type != "success"){
                                _this.html("Resend code").removeClass("disabled");
                                $("#login-section .otp-card .otp-box .alert").addClass("alert-danger").text(data.message).showElem().hideMsg(5);
                            } else{
                                $("#login-section .otp-card .otp-box .alert").addClass("alert-success").text("A text message has been sent to your phone").showElem().hideMsg(5);
                                start_otp_input();
                                resend_countdown("login-section .otp-card .resend-code");
                            }
                        },
                        error: function(){
                            _this.html("Resend code").removeClass("disabled");
                            $("#login-section .otp-card .otp-box .alert").addClass("alert-danger").text("Unable to Process your request. Please try again later").showElem().hideMsg(5);
                        }
                    });
                }
            });

            $("#login-section .otp-card #login-label").click(function(){
                if(!$(this).hasClass("disabled")){
                    if(typeof $("#login-section .otp-card .btn-2-block").data("registerwith") !== "undefined" && $("#login-section .otp-card .btn-2-block").data("registerwith") == "applesignin"){
                        $("#login-section .customer-details-card").showElem();
                    } else{
                        $("#login-section .login-card").showElem();
                    }

                    $("#login-section .otp-card").hideElem();
                    clearInterval(countdown_timer);
                    $("#login-section .otp-card .resend-code").html("Resend code").removeClass("disabled");
                    $("#login-section .otp-card .btn-2-block").prop("disabled", true);
                }
            });

            $("#login-section .login-card .forgot-password").click(function(){
                if(!$(this).hasClass("disabled")){
                    $("#login-section .login-card").hideElem();
                    $("#login-section .password-reset-card").showElem();
                }
            });

            $("#login-section .password-reset-card #login-label").click(function(){
                if(!$(this).hasClass("disabled")){
                    $("#login-section .login-card").showElem();
                    $("#login-section .password-reset-card").hideElem();
                }
            });

            $("#login-section .password-reset-card .btn-2-block").click(function(){
                var _this = $(this);
                var email = $("#login-section .password-reset-card #forgot-email");
                email.css("border", "").next().removeClass("active").text("");
                if(!$.trim(email.val()).length || !isEmail(email.val())){
                    email.css("border", "1px solid #ea868f").next().addClass("active").text(email.attr("placeholder"));
                    return false;
                }

                _this.text("Please wait...").prop("disabled", true);
                email.prop("disabled", true);
                $("#login-section .password-reset-card #login-label").addClass("disabled");
                $("#login-section .login-card .alert").removeClass("alert-success alert-danger").hideElem().text("");

                $.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: "https://amalfipizza.com.au/core/ajax/reset-password-email.php",
                    data: {username: email.val()},
                    success: function(data){
                        _this.text("Continue").prop("disabled", false);
                        email.prop("disabled", false);
                        $("#login-section .password-reset-card #login-label").removeClass("disabled");
                        if(data.type == "success"){
                            email.val("");
                            $("#login-section .password-reset-card #login-label").click();
                            $("#login-section .login-card .alert").removeClass("alert-success alert-danger").addClass("alert-success").text("An email has been sent to you. To reset your password use the link we just e-mailed you").showElem().hideMsg(5);
                        } else{
                            email.css("border", "1px solid #ea868f").next().addClass("active").text(data.message);
                        }
                    },
                    error: function(){
                        _this.text("Continue").prop("disabled", false);
                        email.prop("disabled", false);
                        $("#login-section .password-reset-card #login-label").removeClass("disabled");
                        $("#login-section .login-card .alert").addClass("alert-danger").text("Unable to Process your request. Please try again later").showElem().hideMsg(5);
                    }
                });
            });

            $("#login-section .customer-details-card .slider li button").click(function(){
                if($(this).hasClass("previous")){
                    var account_header = {"first":"Create Account", "second":"Fill your delivery details", "third":"Profile"};
                    $("#login-section .customer-details-card .slider li button").removeClass("active");
                    var position = $(this).removeClass("previous").attr("class");
                    $(this).addClass("active").parent().nextAll().find("button").removeClass("previous");
                    $("#login-section .customer-details-card .create-account [class^=account-]:not([class*='account-header'])").hideElem();
                    $("#login-section .customer-details-card .create-account .account-"+position).showElem();
                    $("#login-section .customer-details-card .create-account .account-header h3").text(account_header[position]);
                    $("#login-section .customer-details-card .create-account .btn-skip, #login-section .customer-details-card .btn-2-block").removeClass("first second third update-address").addClass(position);

                    if(position == "first"){
                        createAccountRenderSize();
                        $("#login-section .customer-details-card .create-account .btn-skip").hideElem();
                    }
                }

                return false;
            });

            $("#login-section .customer-details-card #login-label").click(function(){
                if(!$(this).hasClass("disabled")){
                    $("#login-section .login-card").showElem();
                    hide_customer_form();
                    $("#login-section .customer-details-card #register-phone").prop("readonly", false);
                    $("#login-section input[type='text'], #login-section input[type='tel'], #login-section .customer-details-card .password-wrapper input[type='password']").val("");
                }
            });

            $j("#login-section .customer-details-card .create-account input[name='firstName'], #login-section .customer-details-card .create-account input[name='surname'], #login-section .customer-details-card .create-account input[name='business_name']").on("input", function(event){
                if(event.target.name == "business_name"){
                    $(this).val($(this).val().replace(/[^a-zA-Z-'& ]/gi, ''));
                } else{
                    $(this).val($(this).val().replace(/[^a-zA-Z-' ]/gi, ''));
                }
            });

                            $("#login-section .login-card .login-with").click().remove();
                $("#login-section .login-card #phone-number-form").remove();
                    
        $("#login-section .customer-details-card .btn-2-block").click(function(){
            var _this = $(this),
                valid = false;
            
                        if(_this.hasClass("first")){
                if(validate_form($("#login-section .customer-details-card #create-account"))){
                    _this.prop("disabled", true);
                    var validate_phone = check_customer($("#login-section .customer-details-card #register-phone"));
                    var validate_email = check_customer($("#login-section .customer-details-card [name='email']"));

                    $.when(validate_phone, validate_email).done(function(rp, re){
                        if(
                            typeof rp[1] !== "undefined" && rp[1] == "success" && typeof rp[0].isError && rp[0].isError !== true &&
                            typeof re[1] !== "undefined" && re[1] == "success" && typeof re[0].isError && re[0].isError !== true
                        ){
                            if(typeof $("#login-section .customer-details-card #register-phone").data('registerwith') !== "undefined"){
                                $.ajax({
                                    type: "POST",
                                    url: "https://amalfipizza.com.au/core/ajax/save_customer_details.php",
                                    data: "registerwith=applesigninnewlogin&phoneNumber="+$("#login-section .customer-details-card #register-phone").val().replace(/\s/g, ""),
                                    success: function(data){
                                        var json = JSON.parse(data);

                                        if(typeof json.isError !== "undefined" && json.isError === true){
                                            if(json.errorCode == "existing_phone_number"){
                                                $("#login-section .existing-phone-card .existing-message").text("Your phone number is already registered with another account. Do you want to update your existing account?");
                                                $("#login-section .existing-phone-card #register-apple-update").css("display", "");
                                                $("#login-section .existing-phone-card #register-apple-cancel").addClass("btn-primary-inverted").text("No");
                                            } else{
                                                $("#login-section .existing-phone-card .existing-message").text(json.errorMessage);
                                                $("#login-section .existing-phone-card #register-apple-update").css("display", "none");
                                                $("#login-section .existing-phone-card #register-apple-cancel").removeClass("btn-primary-inverted").text("OK");
                                            }
                                            $("#login-section .customer-details-card").hideElem().next().showElem();
                                            _this.prop("disabled", false);
                                            
                                            return false;
                                        }

                                        $("#login-section .customer-details-card .slider li button.active").addClass("previous").removeClass("active").parent().next("li").find("button").addClass("active");
                                        $("#login-section .customer-details-card .create-account .account-header h3").text("Fill your delivery details");
                                        $("#login-section .customer-details-card .create-account .account-first").hideElem().next().showElem();
                                        $("#login-section .customer-details-card .create-account .btn-skip").removeClass("first").addClass("second");

                                        if(typeof window.login_referer !== "undefined" && window.login_referer != "checkout" || $("#current_order_type_holder").val() == "pickup"){
                                            $("#login-section .customer-details-card .create-account .btn-skip").showElem();
                                        }

                                        _this.removeClass("first").addClass("second");
                                    }
                                });
                            } else{
                                if($("#login-section .customer-details-card .btn-2-block").data("login-type") !== undefined && $("#login-section .customer-details-card .btn-2-block").data("login-type") === "guest" && $("#current_order_type_holder").val() == "pickup"){
                                    $("#login-section .customer-details-card .create-account .btn-skip").removeClass("first").addClass("second");
                                    _this.removeClass("first").addClass("second");

                                    setTimeout(function(){
                                        $("#login-section .customer-details-card .create-account .btn-skip").click();
                                    }, 300);
                                } else{
                                    $("#login-section .customer-details-card .slider li button.active").addClass("previous").removeClass("active").parent().next("li").find("button").addClass("active");
                                    $("#login-section .customer-details-card .create-account .account-header h3").text("Fill your delivery details");
                                    $("#login-section .customer-details-card .create-account .account-first").hideElem().next().showElem();
                                    $("#login-section .customer-details-card .create-account .btn-skip").removeClass("first").addClass("second");

                                    if(typeof window.login_referer !== "undefined" && window.login_referer != "checkout" || $("#current_order_type_holder").val() == "pickup"){
                                        $("#login-section .customer-details-card .create-account .btn-skip").showElem();
                                    }

                                    _this.removeClass("first").addClass("second");
                                }
                            }
                        }

                        _this.prop("disabled", false);
                    });
                }
            } else if(_this.hasClass("second")){
                if(skip_reg){
                    skip_reg = false;
                    valid = true;
                } else if(validate_form($("#login-section .customer-details-card #create-account"))){
                    valid = true;
                }
                
                if(valid){
                    if($("#login-section .customer-details-card .btn-2-block").data("login-type") !== undefined && $("#login-section .customer-details-card .btn-2-block").data("login-type") === "guest"){
                        $("#login-section .customer-details-card .create-account .btn-skip").removeClass("second").addClass("third");
                        _this.removeClass("second").addClass("third");

                        setTimeout(function(){
                            if($("#current_order_type_holder").val() == "pickup"){
                                $("#login-section .customer-details-card .create-account .btn-skip").click();
                            } else{
                                _this.click();
                            }
                        }, 300);
                    } else{
                        $("#login-section .customer-details-card .slider li button.active").addClass("previous").removeClass("active").parent().next("li").find("button").addClass("active");
                        $("#login-section .customer-details-card .create-account .account-header h3").text("Profile");
                        $("#login-section .customer-details-card .create-account .account-second").hideElem().next().showElem();
                        $("#login-section .customer-details-card .create-account .btn-skip").removeClass("second").addClass("third");
                        _this.removeClass("second").addClass("third");
                    }
                }
            } else if(_this.hasClass("third")){
                _this.html("Please wait...").prop("disabled", true);
                $("#login-section .customer-details-card .create-account .btn-skip, #login-section .customer-details-card #login-label, #login-section .customer-details-card .close").addClass("disabled");

                var data = {},
                    signup_email = {};
                $("#login-section .customer-details-card #create-account").find("[name]").each(function(){
                    var name = $(this).attr("name");
                    var value = ($(this).val() != null) ? $(this).val() : "";

                    if(typeof $(this).attr("type") !== "undefined" && $(this).attr("type") != "password"){
                        value = $('<div>').text(value).html();
                    }

                    if(name == "firstName" || name == "surname"){
                        value = $.trim(value);
                        signup_email[(name == "firstName" ? 'customer_fname' : 'customer_lname')] = value;
                    } else if (name === 'email') {
                        signup_email['customer_email'] = value;
                    } else if (name === 'customer_marketing_material') {
                        value = $(this).is(':checked') ? 1 : 0;
                    }
                    else if(name == "phoneNumber"){
                        value = value.replace(/\s/g, ""); // remove the added spaces
                        data["phone_number"] = value;
                    }

                    if($(this).is(":disabled") == false){
                        data[name] = value;
                    }

                    if($(this).is(":visible") && !$(this).is(":disabled")){
                        $(this).prop("disabled", true);
                    }
                });

                if(_this.data("login-type") === undefined || _this.data("login-type") !== "guest"){
                    data["remember_me"] = true;
                    data["register"] = "new";
                } else{
                    data["guest"] = 1;
                    data["guest_no_register"] = 1;
                    
                    delete data.password;
                }
                data["login_referer"] = window.login_referer;

                if(typeof $("#login-section .customer-details-card #register-phone").data("registerwith") !== "undefined" && $("#login-section .customer-details-card #register-phone").data("registerwith") == "applesignin"){
                    data["apple_user_id"] = data.password ?? "";
                }

                $.ajax({
                    type: "POST",
                    url: "https://amalfipizza.com.au/core/ajax/save_customer_details.php",
                    data: data,
                    success: function(data){
                                                    var resp, cart_total = 0;
                            try{
                                resp = JSON.parse(data);
                                cart_total = (resp.cart_total != undefined) ? resp.cart_total : 0;

                                                                    cart_total = 1;
                                                            } catch(e){
                                cart_total = 0;

                                if(window.login_referer == "checkout" && (_this.data("login-type") !== undefined && _this.data("login-type") === "guest")){
                                    cart_total = 1;
                                }
                            }

                            if(_this.data("login-type") === undefined || _this.data("login-type") !== "guest"){
                                $.ajax({
                                    type: "POST",
                                    url: "core/signup_email_msg.php",
                                    async: false,
                                    data: signup_email,
                                    success: function(msg){}
                                });
                            }

                            if(window.login_referer == "checkout" && cart_total > 0){
                                if(resp && resp.address_err_msg != undefined){
                                    _this.html("Continue").prop("disabled", false);
                                    $("#login-section .customer-details-card .create-account .account-third").hideElem();
                                    update_address(resp);
                                } else{
                                    window.location.href = "index994a.html?page=checkout";
                                }
                            } else{
                                var url = new URL(window.location.html);
                                var location_href = (url.searchParams.get("logout") != null && url.searchParams.get("logout") == "true") ? "?page=browse" : window.location.href;
                                
                                window.location.href = location_href;
                            }
                                            }
                });
            } else if(_this.hasClass("update-address")){
                if(validate_form($("#login-section .customer-details-card #create-account"))){
                    _this.html("Please wait...").prop("disabled", true);
                    $("#login-section .customer-details-card .btn-2-block + .btn-primary").prop("disabled", true);

                    var current_address = $("#login-section .customer-details-card #create-account #register-st-name").val().split(", ");
                    var current_street = (typeof current_address[0] !== "undefined") ? current_address[0] : "";
                    var current_suburb = (typeof current_address[1] !== "undefined") ? current_address[1] : "";
                    var check_street = $.ajax({
                        url: "https://api2.dsoftonline.com.au/do/check_street/1452/"+current_street+"/"+current_suburb,
                        success: function(data){
                        }
                    });

                    $.when(check_street).done(function(cs){
                        if(cs.response_code == "00"){
                            var data = {};
                            $("#login-section .customer-details-card #create-account").find(".form-control:visible").each(function(){
                                var name = $(this).attr("name");
                                var value = ($(this).val() != null) ? $(this).val() : "";

                                if($(this).is(":disabled") == false){
                                    data[name] = value;
                                }
                            });
                            data["update_info"] = "address_only";

                            $.ajax({
                                type: "POST",
                                url: "https://amalfipizza.com.au/core/ajax/save_customer_details.php",
                                data: data,
                                success: function(data){
                                    window.location.href = "index994a.html?page=checkout";
                                }
                            });
                        } else{
                            _this.html("Continue").prop("disabled", false);
                            $("#login-section .customer-details-card .btn-2-block + .btn-primary").prop("disabled", false);
                            $("#login-section .customer-details-card #create-account div.alert").removeClass("alert-success alert-danger").addClass("alert-danger").text("Sorry, delivery address is not recognised. Please re-enter address.").showElem().hideMsg(5);
                        }
                    });
                }
            }

            return false;
        });

        $("#login-section .existing-phone-card #register-apple-update").click(function(){
            $("#login-section .existing-phone-card .btn-primary").prop("disabled", true);
            var phone = $("#login-section .customer-details-card #register-phone");
            
            $.ajax({
                type: "POST",
                url: "https://amalfipizza.com.au/core/ajax/resend-otp.php",
                data: { 'phone': phone.val().replace(/\s/g, "") },
                success: function(data){
                    var resp = jQuery.parseJSON(data);

                    $("#login-section .existing-phone-card").hideElem();
                    $("#login-section .otp-card .btn-2-block").data("registerwith", "applesignin");
                    $("#login-section .otp-card").showElem();

                    if(resp.type != "success"){
                        $("#login-section .otp-card .otp-box .alert").addClass("alert-danger").text(data.message).showElem().hideMsg(5);
                    } else{
                        $("#login-section .otp-card .otp-box .alert").addClass("alert-success").text("A text message has been sent to your phone").showElem().hideMsg(5);
                        $("#login-section .otp-card .resend-code").addClass("disabled");
                        resend_countdown("login-section .otp-card .resend-code");
                        $("#login-section .otp-card .otp-phone").html(phone.val());

                        customer_exist = false;
                        customer_phone = phone.val().replace(/\s/g, "");
                        start_otp_input();
                    }
                    
                    $("#login-section .existing-phone-card .btn-primary").prop("disabled", false);
                },
                error: function(){
                    $("#login-section .otp-card .otp-box .alert").addClass("alert-danger").text("Unable to Process your request. Please try again later").showElem().hideMsg(5);
                    $("#login-section .existing-phone-card .btn-primary").prop("disabled", false);
                }
            });
        });

        $("#login-section .existing-phone-card #register-apple-cancel").click(function(){
            $("#login-section .existing-phone-card").hideElem().prev().showElem();
        });

        $("#login-section .customer-details-card .btn-2-block + .btn-primary").live('click', function(){
            if(!$(this).hasClass("disabled")){
                                    $("#login-section .customer-details-card .btn-2-block").prop("disabled", true);
                    $("#login-section .customer-details-card .btn-2-block + .btn-primary").prop("disabled", true).html("Please wait...");
                    location.href = location.href
                            }
        });

                    $("#login-section .customer-details-card .create-account .btn-skip").click(function(){
                if(!$(this).hasClass("disabled")){
                    if($("#login-section .customer-details-card .btn-2-block").hasClass("second")){
                        skip_reg = true;
                        $("#login-section .customer-details-card #create-account .account-second input.form-control").val("");
                        $("#login-section .customer-details-card #create-account .account-second select.form-control").empty();
                        $("#login-section .customer-details-card .btn-2-block").click();
                    } else if($("#login-section .customer-details-card .btn-2-block").hasClass("third")){
                        $("#login-section .customer-details-card #create-account .account-third input.form-control").val("");
                        $("#login-section .customer-details-card #create-account .account-third select.form-control").each(function(){
                            $(this).prop("selectedIndex", 0);
                        });
                        $("#login-section .customer-details-card .btn-2-block").click();
                    }
                }
            });
        
        $("#login-section .customer-details-card #create-account .form-control.required").keyup(function(){
            var invalid = false,
                _this = $(this);
            
            if(_this.data("state") == "submitted"){
                if($.trim(_this.val())==""){
                    _this.closest(".form-group").find("label.error").text("This field is required").showElem();
                    return true
                }

                if(_this.attr("name") == "email"){
                    var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                    if(!regex.test(_this.val())){
                        _this.closest(".form-group").find("label.error").text("Please enter a valid email address").showElem();
                        return true;
                    }
                }

                if(_this.attr("name") == "phoneNumber"){
                    if(check_phone(_this.val())){
                        _this.closest(".form-group").find("label.error").text("Please enter a valid phone number").showElem();
                        return true;
                    }
                }

                if(_this.attr("name") === "password"){
                    if(_this.val().length < 6){
                        _this.closest(".form-group").find("label.error").text("Please enter at least 6 characters").showElem();
                        return true;
                    }
                }

                if(_this.attr("name") === "retypePassword"){
                    confirm_pass = _this.val();
                    if($("#login-section .customer-details-card #create-account input[name='password']").val() !== confirm_pass){
                        _this.closest(".form-group").find("label.error").text("Passwords do not match").showElem();
                        return true
                    }
                }

                _this.closest(".form-group").find("label.error").hideElem().text("");
            }
        });

        $j("#login-section .customer-details-card #register-st-name").select2({
            placeholder: 'Select your Street',
            width: '100%',
            ajax: {
                url: 'https://amalfipizza.com.au/core/ajax/find_streets.php',
                dataType: 'json',
                delay: 250,
                processResults: function(data){
                    var select2Data = $.map(data, function (obj){
                        obj.id = obj.street;
                        obj.text = obj.street;
                        return obj;
                    });

                    return {
                        results: select2Data
                    };
                },
                cache: false
            },
            language: {
                noResults: function(){
                    return "Street not found.";
                }
            },
            minimumInputLength: 2,
            templateResult: function(data){
              return data.street;
            }
        }).on("select2:close", function(e){
            $("#login-section .customer-details-card #register-st-name").closest(".form-group").find("span.glyphicon-ok").remove();
            $("#login-section .customer-details-card #register-st-name").closest(".form-group").find("span.glyphicon-remove").remove();
            $("#login-section .customer-details-card #register-st-name").closest(".form-group").find("span.help-block").remove();
        });

        $j(window).on('resize', function(){
            if($("#login-section .customer-details-card .create-account .account-first").is(":visible")){
                createAccountRenderSize();
            }
        });

        createAccountRenderSize();

        $j('input[name="email"]').on('input', function() {
            const trimmedValue = $(this).val().trim();
            $(this).val(trimmedValue);
        });
    });
</script>
    <div class="login-card">
        <div class="row">
            <div class="login-modal-header col-lg-12 col-md-12 col-sm-12">
                <div id="login-label">
                    <h3>What's your mobile number?</h3>
                </div>
                <div>
                    <i class="close fa-solid fa-xmark"></i>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div role="alert" class="alert" style="display:none;"></div>
                <div id="phone-number-form" class="form-group">
                    <input type="text" id="login-phone" name="login-phone" class="form-control login" value="" pattern="/^[0-9\s]+$/" inputmode="numeric" autocomplete="off" placeholder="Enter your mobile number"/>
                    <div class="field-message"></div>
                </div>
                <div id="email-form" style="display:none;">
                    <div class="form-group">
                        <input type="text" id="login-email" name="login-email" class="form-control login" value="" placeholder="Enter your email or mobile number"/>
                        <div class="field-message"></div>
                    </div>
                    <div class="form-group">
                        <input type="password" id="login-pass" name="login-pass" class="form-control login" value="" placeholder="Enter your password"/>
                        <div class="field-message"></div>
                    </div>
                </div>
                <div>
                    <div class="forgot-password" style="display:none;">Forgot Password?</div>
                    <div class="login-with password">Login with Password</div>
                                            <div class="sign-up">Sign Up</div>
                                    </div>
                <div>
                    <button class="btn-2-block btn btn-primary mobile">Login</button>

                                            <button class="btn-guest-checkout btn btn-primary">Checkout as Guest</button>
                                    </div>
            </div>
                    </div>
    </div>
    <div class="password-reset-card" style="display:none;">
        <div class="row">
            <div class="login-modal-header col-lg-12 col-md-12 col-sm-12">
                <div id="login-label">
                    <i class="fa-solid fa-chevron-left"></i>
                </div>
                <div>
                    <i class="close fa-solid fa-xmark"></i>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div>
                    <i class="fa-solid fa-unlock-keyhole"></i>
                    <span>Password Reset</span>
                    <span>Enter the registered email. We will send you a verification code to reset your password</span>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="form-group">
                    <input type="text" id="forgot-email" name="forgot-email" class="form-control login" autocomplete="off" placeholder="Please enter a valid email" value="" />
                    <div class="field-message"></div>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div>
                    <button class="btn-2-block btn btn-primary">Continue</button>
                </div>
            </div>
        </div>
    </div>
    <div class="otp-card" style="display:none;">
        <div class="row">
            <div class="login-modal-header col-lg-12 col-md-12 col-sm-12">
                <div id="login-label">
                    <i class="fa-solid fa-chevron-left"></i>
                </div>
                <div>
                    <i class="close fa-solid fa-xmark"></i>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div>
                    <i class="fa-regular fa-comment"></i>
                    <span>Enter the 6-digit verification code sent to you at <span class="otp-phone"></span></span>
                </div>
            </div>
            <div class="otp-box col-lg-12 col-md-12 col-sm-12">
                <div class="alert" style="display:none;"></div>
                <div id="otp-box" class="form-group">
                    <input type="number" name="otp-box[]" class="form-control login" maxlength="1" value="" oninput="javascript: if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"/>
                    <input type="number" name="otp-box[]" class="form-control login" maxlength="1" value="" oninput="javascript: if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"/>
                    <input type="number" name="otp-box[]" class="form-control login" maxlength="1" value="" oninput="javascript: if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"/>
                    <input type="number" name="otp-box[]" class="form-control login" maxlength="1" value="" oninput="javascript: if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"/>
                    <input type="number" name="otp-box[]" class="form-control login" maxlength="1" value="" oninput="javascript: if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"/>
                    <input type="number" name="otp-box[]" class="form-control login" maxlength="1" value="" oninput="javascript: if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"/>
                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div>Did not receive a code? <span class="resend-code">Resend code</span></div>
                <div>
                    <button class="btn-2-block btn btn-primary" disabled>Continue</button>
                </div>
            </div>
        </div>
    </div>
<div class="customer-details-card" style="display:none;">
    <div class="row">
        <div class="login-modal-header col-lg-12 col-md-12 col-sm-12" style="display:none;">
            <div id="login-label">
                <i class="fa-solid fa-chevron-left"></i>
            </div>
            <div>
                <i class="close fa-solid fa-xmark"></i>
            </div>
        </div>
        <div class="slider col-lg-12 col-md-12 col-sm-12">
            <li><button class="first active"></button></li>
            <li><button class="second"></button></li>
            <li><button class="third"></button></li>
        </div>
        <div class="create-account">
            <form id="create-account" name="create-account">
                <input type="hidden" name="fb_user_id" value="">
                <div class="alert" style="display:none; margin-bottom:0;"></div>
                <div class="account-header col-lg-12 col-md-12 col-sm-12">
                    <h3>Create Account</h3>
                </div>
                <div class="account-first">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="field-wrapper form-group">
                            <label class="label">
                                Mobile Number
                                <i class="fa-solid fa-circle-question" data-toggle="tooltip" data-placement="bottom" title="Mobile number must be in a valid format. eg. 0412345678" aria-hidden="true"></i>
                                <span class="required">*</span>
                            </label>
                            <input type="tel" id="register-phone" name="phoneNumber" readonly class="form-control required" pattern="/^[0-9\s]+$/" inputmode="numeric" value=""/>
                            <label class="error" style="display:none;"></label>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="field-wrapper form-group">
                            <label class="label">First Name<span class="required">*</span></label>
                            <input type="text" name="firstName" class="form-control required" value=""/>
                            <label class="error" style="display:none;"></label>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="field-wrapper form-group">
                            <label class="label">Last Name<span class="required">*</span></label>
                            <input type="text" name="surname" class="form-control required" value=""/>
                            <label class="error" style="display:none;"></label>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="field-wrapper form-group">
                            <label class="label">Email<span class="required">*</span></label>
                            <input type="text" name="email" class="form-control required" maxlength="200" value=""/>
                            <label class="error" style="display:none;"></label>
                        </div>
                    </div>
                                            <div class="password-wrapper" style="display:none;">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <div class="field-wrapper form-group">
                                    <label class="label">Password<span class="required">*</span></label>
                                    <input type="password" name="password" class="form-control required" maxlength="64" value=""/>
                                    <label class="error" style="display:none;"></label>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <div class="field-wrapper form-group">
                                    <label class="label">Confirm Password<span class="required">*</span></label>
                                    <input type="password" name="retypePassword" class="form-control required" maxlength="64" value=""/>
                                    <label class="error" style="display:none;"></label>
                                </div>
                            </div>
                        </div>
                                        <div class="col-lg-12 col-md-12 col-sm-12 customer-marketing-material-wrapper">
                        <div class="field-wrapper form-group">
                            <label for="customer_marketing_material" class="label" style="position: relative;">
                                <span style="position: absolute; left: 0;"><input type="checkbox" id="customer_marketing_material" name="customer_marketing_material" checked style="margin-top: 0; margin-right: 5px;"></span>
                                <span style="margin-left: 22px; white-space: normal; line-height: 1.2em; position: relative; top: -1px; display: block;">Count me in for special offers and promo's</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="account-second" style="display:none;">
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="field-wrapper form-group">
                            <label class="label">Unit Number</label>
                            <input type="text" name="unitNumber" class="form-control" autocomplete="off" maxlength="25" value=""/>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="field-wrapper form-group">
                            <label class="label">House Number<span class="required">*</span></label>
                            <input type="text" name="houseNumber" class="form-control required" autocomplete="off" maxlength="25" value=""/>
                            <label class="error" style="display:none;"></label>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="field-wrapper form-group">
                            <label class="label">Street Name<span class="required">*</span></label>
                            <select id="register-st-name" name="deliveryStreet" class="form-control required select2"></select>
                            <label class="error" style="display:none;"></label>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="field-wrapper form-group">
                            <label class="label">Delivery Instructions</label>
                            <input type="text" name="deliveryInstructions" class="form-control" autocomplete="off" maxlength="255" value=""/>
                        </div>
                    </div>
                </div>
                <div class="account-third" style="display:none;">
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="field-wrapper form-group">
                            <label class="label">Age</label>
                            <select class="form-control" name="age">
                                <option value="">- Select Age -</option>
                                <option value="18-24">18 - 24</option>
                                <option value="25-34">25 - 34</option>
                                <option value="35-44">35 - 44</option>
                                <option value="45-54">45 - 54</option>
                                <option value="55-64">55 - 64</option>
                                <option value="65+">65+</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="field-wrapper form-group">
                            <label class="label">Gender</label>
                            <select class="form-control" name="gender">
                                <option value="">- Select Gender -</option>
                                <option>Male</option>
                                <option>Female</option>
                                <option>Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="field-wrapper form-group">
                            <label class="label">Business Name</label>
                            <input type="text" name="business_name" class="form-control" value=""/>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="field-wrapper form-group">
                            <label class="label">How did you hear about us?</label>
                            <select class="form-control" id="register-hear" name="hear_about_us">
                                <option value="">- Select Option -</option>
                                <option value="google">Google</option>
                                <option value="word of mouth">Word of Mouth</option>
                                <option value="print">Print</option>
                                <option value="facebook">Facebook</option>
                                <option value="instagram">Instagram</option>
                                <option value="other social media">Other Social Media</option>
                                <option value="radio">Radio</option>
                                <option value="tv">TV</option>
                                <option value="sms">SMS</option>
                                <option value="email">Email</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div>
                        <button type="button" class="btn-2-block btn btn-primary first">Continue</button>
                        <p class="btn-skip first" style="display:none;">Skip for now</p>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="existing-phone-card" style="display:none;">
    <div class="row">
        <div class="existing-phone-header col-lg-12 col-md-12 col-sm-12">
            <h3>Phone Number</h3>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="existing-message"></div>
            <div>
                <button type="button" id="register-apple-cancel" class="btn btn-primary btn-primary-inverted">No</button>
                <button type="button" id="register-apple-update" class="btn btn-primary">Yes</button>
            </div>
        </div>
    </div>
</div>	</div>
</div>
	<div id="wrap" class="row-offcanvas row-offcanvas-right">
	<nav class="navbar navbar-inverse navbar-fixed-top"  id="main-nav" role="navigation">
 		<div class="container">
			<div class="toggle-left">
				<div></div>
				<div></div>
				<div></div>
			</div>
			<nav id="left-nav">
				<div id="store-nav">
					<span id='nav_profile_pic'> 
						<h4><b><center>Welcome to</center></b></h4><span><b><center>Amalfi Pizza Wendouree</center></b></span>					</span>
				</div>
				<ul>
					<li class="move-nav"><a href="#landing"><span class="glyphicon glyphicon-home"></span><span class="nav-text"> Home</span></a></li>
					<li class="move-nav"><a href="#store-data"><span class="glyphicon glyphicon-cutlery"></span><span class="nav-text"> Menu</span></a></li>
					<li class="move-nav"><a href="#" data-toggle="modal" data-target="#locationsModal" class="menu-locations"><span class="glyphicon glyphicon-map-marker"></span><span class="nav-text"> Locations</span></a></li>															<li class="move-nav"><a href="#about-us"><span class="glyphicon glyphicon-glass"></span><span class="nav-text"> About</span></a></li> 					<li class="move-nav menu-franchise-inquiry"><span class="glyphicon glyphicon-envelope"></span><span class="nav-text"> Partner Enquiry</span></li> 					 

					 
					<li class="nav-list"><a href="#" data-toggle="modal" data-target="#showmapmodal"><span class="glyphicon glyphicon-map-marker"></span> Store Location</a></li>
					<li class="nav-list"><a href="index11bd.html?page=terms"><span class="glyphicon glyphicon-info-sign"></span> Terms</a></li>
					<li class="nav-list"><a href="index8a5f.html?page=privacy"><span class="glyphicon glyphicon-eye-close"></span> Privacy</a></li>
					<li class="nav-list"><a href="index1b80.html?page=feedback"><span class="glyphicon glyphicon-send"></span> Feedback</a></li>
				</ul>
			</nav>
			
			<ul id="navbar-header" class="nav navbar-nav navbar-left">
				<li class="move-nav"><a href="#landing"><span class="nav-text">Home</span></a></li>
				<li class="move-nav"><a href="#store-data" ><span class="nav-text">Menu</span></a></li>
				<li class="move-nav"><a href="#" data-toggle="modal" data-target="#locationsModal" class="menu-locations"><span class="nav-text">Locations</span></a></li>												<li class="move-nav"><a href="#about-us"><span class="nav-text">About</span></a></li> 				<li class="move-nav menu-franchise-inquiry" style="cursor:pointer;"><span class="nav-text">Partner Enquiry</span></li> 			</ul>
			<ul id="navbar-header" class="nav navbar-nav navbar-right">
									<li id="navbar-right-download-app" style="text-transform: capitalize;cursor: pointer;">
						<i class="fa-solid fa-mobile-screen-button" style="margin-right: 5px;"></i><span> Download App</span>
					</li>
					<div id="app-popup" style="display:none;">
						<span class="app-text">Download app from:</span>
						<div class="dl-app-icon">
							<li class="app-icon"><a href="https://play.google.com/store/apps/details?id=store.dpos.com.ilamalfipizza&amp;pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/images/app_dl_play_store.png"></a></li>							<li class="app-icon"><a href="https://itunes.apple.com/us/app/id1529996576" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/images/app_dl_app_store.png"></a></li>						</div>
						<span class="img-phone">
							<span class="phone-text">or scan this QR:</span>
							<img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/phone-half.png" style="width:200px;">
							<span id="qrcode">
								<img/>
							</span>
						</span>
					</div>

										<script src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/js/qrcode.js"></script>
					<script>
						$(document).ready(function() {
							$('#navbar-right-download-app').click(function() {
								$('#app-popup').toggle();
							});

							$(document).click(function(event) {
								if (!$(event.target).closest('#app-popup, #navbar-right-download-app').length) {
									$('#app-popup').hide();
								}
							});

							// Settingup the position of the app-popup to align with navbar-right-download-app
							//for resizing the page
							$(window).resize(function() {
								$('#app-popup').css({
									'left': ($('#navbar-right-download-app').offset().left - 180) + 'px',
								});
							});

							//initial load
							$('#app-popup').css({
								'left': ($('#navbar-right-download-app').offset().left - 180) + 'px',
							});
						});
						
						var opts = {
								errorCorrectionLevel: 'M',
								type: 'image/jpeg',
								quality: 0.8,
								margin: 1,
								width: 150
							}

						QRCode.toDataURL('index2af7.html?dlapp=true', opts, function (err, url) {
							if (err) throw err

							$('.img-phone #qrcode img').attr({"data-src": "https://amalfipizza.com.au/?dlapp=true", "src": url});
						});
					</script>
								
												<li id="navbar-right-fb-link">
					<a href="https://www.facebook.com/Amalfi-Pizza-Pasta-112330397329204" target="_blank">
						<span class="glyphicon"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/facebook-square-brands.png"></span>
					</a>
				</li>
								<!-- OOA-258 Platina - Pop up letting customers know what store they are ordering from -->
													<li>
						<p tabindex="0" role="button" data-toggle="popover" id='login-nav'>
							<span class="glyphicon"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/user-circle-solid.png"></span>
							<span id='signIn' class='signIn'>sign in</span>
						</p>
					</li>

																</ul>
			
		</div>
	</nav>
    <div class="container mainpage">
	</div>

	<!-- FULL HEADER REMOVE -->
	
	<div id="padding-here">
		&nbsp;
		<div style="width:1px; height:1px; display:none;"><div id="estimated-time"></div></div>
	</div>

<!-- END OF FULL HEADER -->
	

    <input type="hidden" id='client_code' value='AWN01'>
    <input type="hidden" id='orderTotal' value=''>
    <input type="hidden" id='storeName' value='Amalfi Pizza Wendouree'>
    <input type="hidden" id='orderType' value='pickup'>
    <input type="hidden" id='customerLoggedIn' value='0'>
    <input type="hidden" id='customerGuest' value='0'>
    <input type="hidden" id='storeSelected' value='0'>
	<div class="modal fade modal-fullscreen force-fullscreen" id="showmapmodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				 <h4 class="modal-title">Store Location</h4>
			  </div>
			  <div class="modal-body">
										<div class="mapouter"><div class="gmap_canvas"><iframe width="100%" height="400" id="gmap_canvas" src="https://google.com/maps?q=914+Howitt+St%2C+Wendouree%2C+VIC&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=&amp;output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe></div></div>
					<div id="modal-info">
					<h3 id="modal-store"><b><span>Amalfi Pizza Wendouree</b></span></h3>
					<div class="col-md-3 col-md-offset-3 map-add">	
					<p id="h-address"><span class="glyphicon glyphicon-map-marker"></span> 914 Howitt St, Wendouree, VIC</p>
					<p id="h-phone"><span class="glyphicon glyphicon-earphone"></span> 0343431895</p>
					</div>
					<div class='col-md-3 map-time' style='text-align: right;'>
					<p>
									  <i class="fa-solid fa-bell-concierge" style="margin-right:5px;"></i> 
									  <span>Delivery 05:00pm - 02:45am</span>
								  </p><p><i class="fa-solid fa-clock" style="margin-right:5px;"></i> <span class="store-time-text">Open today</span> <span>04:30pm - 02:45am</span></p>					</div>
					</div>
				 </div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	
	<!-- /.modal for adding quantity on single items -->
	<div class="modal modal-popup fade" id="add-popup-qty" role="dialog"> 
		<div class="modal-dialog modal-dialog-popup">
			<div class="modal-content modal-content-popup">
				<div class="modal-header">
					<p class="close close-popup" data-dismiss="modal">×</p>
					<h4 class="modal-title" style="color: black; padding-bottom: 5px; font-weight: 600;"></h4>
					<div class="modal-title item-description-popup modal-title-full" style="font-size: 13px"></div>
				</div>
				<div class="modal-body" style="background: #ececec78;">
					<div style="text-align:center;"><label style="font-weight: bold;">Quantity</label></div>
					<div style="text-align: center; margin: 10px;">
						<button class="btn qty-btn-popup-single qty-btn-popup-minus" ref-group-id=""><i class="glyphicon glyphicon-minus"></i></button>
						<label id="" class="qty-label-popup qty" style="padding: 0 5%">1</label>
						<button class="btn qty-btn-popup-single qty-btn-popup-plus" ref-group-id=""><i class="glyphicon glyphicon-plus"></i></button>
					</div>
				</div>
				<div class="modal-footer" style="text-align: center; position: relative;">
					<div class="item-add-buttons" style="width:100%">
						<input style="padding: 10px 0 !important; width: 47%;" data-dismiss="modal" type="button" name="Add" value="Add" class="btn btn-primary" id="modal-addbtn">
						<input style="padding: 10px 0 !important; width: 47%;" type="button" name="Customise" value="Customise" class="btn btn-primary" id="modal-customisebtn">
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- /.modal for switch store -->
	<div class="modal modal-popup fade" id="storeSwitchPopup" data-backdrop="static" data-keyboard="false" role="dialog"> 
		<div class="modal-dialog modal-dialog-popup">
			<div class="modal-content modal-content-popup">
				<div class="modal-body" style="background: #ececec78; text-align: center;">
						<img src="https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/cart-notif.svg" />
						<h4 class="modal-title" style="color: black; padding-bottom: 5px; font-weight: 600; font-size: 27px;">Switch store?</h4>
						<p style="font-size: 16px;">Your cart will be emptied. You are now ordering from <span id="storeSwitchPopupStoreName"></span>.</p>
				</div>
				<div class="modal-footer" style="text-align: center; position: relative;">
					<div class="item-add-buttons" style="width:100%">
						<button value="ok" style="padding: 10px 0 !important; width: 47%;" data-dismiss="modal" class="btn btn-primary switch-option">Okay</button>
						<button value="cancel" style="padding: 10px 0 !important; width: 47%;" data-dismiss="modal" class="btn btn-danger switch-option">Cancel</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- /.modal for Coming Soon -->
	<div class="modal modal-popup fade" id="comingSoonStoreSwitchPopup" data-backdrop="static" data-keyboard="false" role="dialog"> 
		<div class="modal-dialog modal-dialog-popup">
			<div class="modal-content modal-content-popup">
				<div class="modal-body" style="background: #ececec78; text-align: center;">
						<img src="https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/cart-notif.svg" />
						<h4 class="modal-title" style="color: black; padding-bottom: 5px; font-weight: 600; font-size: 27px;">Coming Soon!</h4>
						<p style="font-size: 16px;">The store you have selected is not available yet.</p>
				</div>
				<div class="modal-footer" style="text-align: center; position: relative;">
					<div class="item-add-buttons" style="width:100%">
					<button value="cancel" style="padding: 10px 0 !important; width: 47%;" data-dismiss="modal" class="btn btn-danger switch-option">Okay</button>
					</div>
				</div>
			</div>
		</div>
	</div>	

	<!-- /.modal for franchise inquiry form -->
	<div class="modal modal-popup fade" id="franchiseInquiryModal" data-backdrop="static" data-keyboard="false" role="dialog"> 
		<div class="modal-dialog modal-dialog-popup">
			<div class="modal-content modal-content-popup">
				<div class="modal-header" style="background: #ececec78; text-align: center;">		
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<div id="frachise-logo">
						<img src="images/logo.png" alt="Amalfi Pizza Wendouree Logo">
					</div>
					<h4 class="modal-title" style="color: black; padding-top: 5px; padding-bottom:5px; font-weight: 600; font-size: 27px;">Interested in owning a store?</h4>
					<p>Send us your details and let's have a chat.</p>
				</div>
				<div class="modal-body" style="background: #fff; text-align: left;">
					<div class="alert" role="alert" style="text-align:center;"></div>
					<form role="form" value="Contact Form" id="franchiseInquiryForm">
						<div class="form-group">
						<input id="inquiry-name" type="text" class="form-control" placeholder="Name">
						<small id="inquiry-name-help" class="form-text text-danger"> </small>
						</div>
						<div class="form-group">
						<input id="inquiry-email" type="text" class="form-control" placeholder="Email">
						<small id="inquiry-email-help" class="form-text text-danger"> </small>
						</div>                        
						<div class="form-group">
						<input id="inquiry-phone" name="phone" type="text" class="form-control" size="20" placeholder="Phone"/>	
						<small id="inquiry-phone-help" class="form-text text-danger"> </small>
						</div> 
						<div class="form-group">
						<textarea id="inquiry-message" class="form-control" rows="3" placeholder="Message"></textarea>
						<small id="inquiry-message-help" class="form-text text-danger"> </small>
						</div>
					</form> 	
					<div id='loadin_bar' style='text-align:center;'></div>					
				</div>
				<div class="modal-footer" style="text-align: center; position: relative;">
					<div class="item-add-buttons" style="width:100%">
						<button value="franchise-submit" style="padding: 10px 0 !important; width: 100%;" class="btn btn-primary franchise-btn-submit franchise-inquiry-btn">Submit 🡢</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- /.modal for locations -->
	<div class="modal fade locationsModal" id="locationsModal" tabindex="-1" role="dialog" aria-labelledby="locationsModal" aria-hidden="true"> 
		<div class="modal-dialog modal-dialog-popup">
			<div class="modal-content modal-content-popup">
				<div class="modal-header" style="background: #ececec78; text-align: center;">	
					<p class="close close-popup" data-dismiss="modal">×</p>	
					<h4 class="modal-title" style="color: black; padding-top: 5px; padding-bottom:5px; font-weight: 600; font-size: 27px;">Our Locations</h4>
					<p style="font-size: 16px;"></p>
				</div>
				<div class="modal-body" style="background: #fff; text-align: left;">
					<div id='loadin_bar' style='text-align:center;'></div>
					<div class="franchise-locations">
						<div class="col-md-3 col-sm-3 col-xs-12 store-details-container">
							<ul id="locationsSuburbList" class="list-group list-group-flush"></ul>
							<select name="locationsSuburbList2" id="locationsSuburbList2" class="form-select"></select>
						</div>
						<div id="locations-map-container" class="col-md-9 col-sm-9 col-xs-12 map-container">
							<div class="location-map" id="location-map" style="width: 100%; height: 100%;">
								<div style="position: relative; overflow: hidden;" id="map_canvas"></div>
							</div>						
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- /.modal for store list  -->
	<div class="modal" id="storeListsModal" tabindex="-1">
		<div class="modal-dialog modal-dialog-center">
			<div class="modal-content">				
				<div class="modal-header" style="background: #ececec78; text-align: center;">	
					<p class="close close-popup" data-dismiss="modal">×</p>	
					<h4 class="modal-title">List of Locations</h4>
					<p style="font-size: 16px;"></p>
				</div>
				<div class="modal-body" style="background: #fff; text-align: left;">				
					<div id='loadin_bar' style='text-align:center;'></div>
					<!-- Accordion Content -->
					<div>
						<div class="content">
							<div class="panel-group store-list-accordion" id="accordion">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>		

	<!-- /.modal for store list switch store -->
	<div class="modal fade" id="storeSwitchPopup_2" tabindex="-1">
		<div class="modal-dialog modal-dialog-center">
			<div class="modal-content">
				<div class="modal-body" style="background: #ececec78; text-align: center;">
						<img src="https://deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/cart-notif.svg" />
						<h4 class="modal-title" style="color: black; padding-bottom: 5px; font-weight: 600; font-size: 27px;">Switch store?</h4>
						<p style="font-size: 16px;">Your cart will be emptied. You are now ordering from <span id="storeSwitchPopupStoreName"></span>.</p>
				</div>
				<div class="modal-footer" style="text-align: center; position: relative;">
					<div class="item-add-buttons" style="width:100%">
						<button id="storelist-switch-option-ok" value="ok" style="padding: 10px 0 !important; width: 47%;" data-dismiss="modal" class="btn btn-primary storelist-switch-option">Okay</button>
						<button id="storelist-switch-option-cancel" value="cancel" style="padding: 10px 0 !important; width: 47%;" data-dismiss="modal" class="btn btn-danger storelist-switch-option">Cancel</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- OOA-1472 Refer a friend Modal -->
	<div class="modal fade" id="refer-modal" tabindex="-1" role="dialog" aria-labelledby="refer-modalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
		<div class="modal-dialog" role="document">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>

				<div class="modal-body">
					<form id="refer_form">
						<img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/refer_friend.png">
						<h1>Refer a friend</h1>
						<p>Who's hungry? Tell them about us!</p>
						<ul>
							<li><input type="text" name="referer_name" id="referer_name" class="form-control" style="margin:0 auto;" placeholder="Your Name" required></li>
							<li><input type="text" name="refer_friend_name" id="refer_friend_name" class="form-control" style="margin:0 auto;" placeholder="Friend's Name" required></li>
							<li><input type="email" name="friend_email_add" id="friend_email_add" class="form-control" style="margin:0 auto;" placeholder="Friend's Email Address" required></li>
						</ul>
						<button type="submit" class="btn btn-primary" id="refer-btn">Send Referral</button>
					</form>
				</div>

			</div>
		</div>
	</div>

	
	<input type='hidden' name='current_order_type' id='current_order_type_holder' value='pickup'/>
	


<script>
$(document).ready(function(){
    var bLazy = new Blazy();
});
</script>
<style>
       /* For Merge - Style for responsive extra/current toppings  */
        .hide-menu-active-times{
            /* display:none; */
            letter-spacing:0.8px;
            background-color:#dc4f4f !important;
            border-left:5px solid #da2d2d !important;
            padding:5px 8px;
            font-size:14px;
            -webkit-transition: opacity 650ms ease-in-out;
            -moz-transition: opacity 650ms ease-in-out;
            -o-transition: opacity 650ms ease-in-out;
            transition: opacity 650ms ease-in-out;
        }

        .b-lazy {
            -webkit-transition: opacity 650ms ease-in-out;
            -moz-transition: opacity 650ms ease-in-out;
                -o-transition: opacity 650ms ease-in-out;
                    transition: opacity 650ms ease-in-out;
                    max-width: 100%;
                    opacity: 0;
        }
        .b-lazy.b-loaded {
                    opacity: 1;
        }

        /* FOR merge Loke at checkout page */

        #order-info-loke{
            background: #fff;
            width: 70%;
            float:left;
            display:none;
        }
        #order-info-loke #loke-order-details{
            padding:6px 10px 15px;
        }
        #order-info-loke h3{
            background:#222;
            font-family: "Open Sans",sans-serif;
            color: #fff;
            margin: 0;
            padding: 6px;
            padding-left: 10px;
            font-weight: 300;
            margin-top: 0;
            font-size: 18px;
        }

        @media only screen and (max-width: 992px){
            #order-info-loke{
                width:100%;
                display:block;
            }
        }
</style>
<div id="backgroundPopup"></div> 



<div id='main-content'>

    <div class="container">

    <div class="location split-content group">

    <center><span>
        </span></center>


	
		<script>
    $(document).ready(function() {

        var opentab;
        $("#feedback").click(function() {
            if (!opentab) {
                $("#feedback-tab").show("slide", {
                    direction: "down"
                }, 200).fadeIn();
                opentab = true;
            } else {

                $("#feedback-tab").hide("slide", {
                    direction: "down"
                }, 300).fadeOut();
                opentab = false;
            }
        });

        $("#feedback-close").click(function() {
            $("#feedback-tab").hide("slide", {
                direction: "down"
            }, 300).fadeOut();
            opentab = false;

        });

        var clearMePrevious = "";

        // clear input on focus
        $('.clearMeFocus').focus(function() {
            if ($(this).val() == $(this).attr('title')) {
                clearMePrevious = $(this).val();
                $(this).val("");
            }
        });

        // if field is empty afterward, add text again
        $('.clearMeFocus').blur(function() {
            if ($(this).val() == "") {
                $(this).val(clearMePrevious);
            }

        });

    });
</script>

<style>
    #feedback-cancel {
        text-decoration: none;
        font: 14px "Open Sans";
        cursor: pointer;
        margin: 0;
        padding: 6px 12px;
        transition: background-color 80ms ease-in;
        text-shadow: none;
        box-shadow: none;
        border-color: transparent;
        background-color: #e74c3c;
    }

            .form-control-feedback{
            top: 19px;
        }
    </style>

<div id='feedback'>
    <h1>Feedback</h1>
    <form id='feedback-form'>
        <fieldset>
            <p>We are constantly striving to provide you with a great service and are always looking for ways to improve. Please let us know what you think of our online ordering service:</p>
            <div class="col-lg-6">
                                    <div class="form-group has-feedback input-grp input-col-2">
                        <label class="fieldTitle control-label"> Select Store:</label><br />
                        <select required name="store_code" class="form-control" title='Store Required'>
                            <option value="">:::Please Select:::</option>
                        </select>
                    </div>
                
                <div class="form-group has-feedback input-grp input-col-2">
                    <label for="name" class="fieldTitle control-label"> Full Name:</label><br />
                    <input name="name" type="text" placeholder="Name" size="30" class='clearMeFocus form-control' title='Name Required' required />
                </div>

                <div class="form-group has-feedback input-grp input-col-2">
                    <label for="email" class="fieldTitle control-label"> Email Address:</label><br />
                    <input type="text" name='email' placeholder="Email" size="30" class='clearMeFocus form-control' title='Email Required' required />
                </div>

                <div class="form-group has-feedback input-grp input-col-2">
                    <label for="phone" class="fieldTitle control-label"> Phone Number:</label><br />
                    <input type="text" name='phone' placeholder="Phone Number" size="10" maxlength="10" class='clearMeFocus form-control' />
                </div>

                <div class="form-group has-feedback input-grp input-col-2">
                    <label for="type_of_feedback" class="fieldTitle control-label"> Feedback Type:</label><br />
                    <select name="type_of_feedback" required class='form-control' title='Feedback Type Required'>
                        <option value=''>:::Please Select:::</option>
                        <option>General Inquiry</option>
                        <option>Compliment</option>
                        <option>Suggestion</option>
                        <option>Complaint</option>
                        <option>Can't Checkout</option>
                        <option>Can't Do Something I Want</option>
                        <option>Information Incorrect</option>
                        <option>Security Requirements</option>
                        <option>Layout Issue</option>
                        <option>Bug</option>
                        <option>Other</option>
                    </select>
                </div>

                <div class="form-group has-feedback input-grp input-col-2">
                    <label for="type_of_feedback" class="fieldTitle control-label"> Feedback:</label><br />
                    <textarea id="comments" class='form-control' name="comments" required title='Feedback Required'></textarea>
                </div>
                
                <div id="ofe_reCaptcha2" class="g-recaptcha grecaptcha form-group" data-sitekey="6Le47igTAAAAANEhEKvcyjPFEVQoPac5NUKgFmcm"></div>
                <div id="verify_captcha_message2" style="display: none;float: left !important;width: 100% !important;color: #f00 !important; margin-bottom: 5px !important"><span>Please verify security check.</span></div>

                <h4>note: compliments may be displayed online.</h4>

                <div class="form-group input-grp">
                    <input class='btn btn-primary' name="Send" type="button" id="send" value="Send">
                    <input class="btn btn-primary" type="button" value="Cancel" id='feedback-cancel'>
                    <input name="client_code" type="hidden" value="AWN01" />
                </div>
            </div>
        </fieldset>
    </form>
</div>
<div id='loadin_bar'></div>
<script>
    $(document).ready(function() {
        (function($) {
            var loc = 'browse';
            
            $("#feedback-cancel").click(function() {
                window.location = '?page=' + loc;
            });

            $("#send").click(function() {
                //- Set with Icons
                function feedbackIcon(element) {
                    
                    $(element).closest('.form-group').find('.glyphicon-form-icon').remove();
                    if ($(element).closest('.form-group').hasClass('has-success')) {
                        $(element).closest('.form-group').prepend('<span class="glyphicon-form-icon glyphicon glyphicon-ok form-control-feedback" aria-hidden="false"></span>');
                    } else {
                        $(element).closest('.form-group').prepend('<span class="glyphicon-form-icon glyphicon glyphicon-remove form-control-feedback" aria-hidden="false"></span>');
         
                    }
                }

                $.validator.setDefaults({

                    highlight: function(element) {
                        $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
                        feedbackIcon(element);
                    },
                    unhighlight: function(element) {
                        if (this.invalid[element.name] !== true) {
                            $(element).closest('.form-group').removeClass('has-error').addClass('has-success');
                            feedbackIcon(element);
                            return false;
                        }
                        if ($(element).hasClass('pending')) {
                            $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
                            feedbackIcon(element);
                        }

                    },
                    errorElement: 'span',
                    errorClass: 'help-block',
                    errorPlacement: function(error, element) {
                        $(element).closest('.form-group').append(error);
                    }
                });

                var v = $("#feedback-form").validate().form();
                var captcha = grecaptcha.getResponse();

                if (captcha.length === 0 && v) {
                    $("#verify_captcha_message2").fadeIn(500);
                    setTimeout(function() {
                        $("#verify_captcha_message2").fadeOut(500);
                    }, 5000);
                   
                    return false;
                }else{
                    $('#send').prop('disabled', true);
                    $('#send').prop('value', 'Sending...');
                    $('#loading_bar').html("<img src='images/ajax-loader.html'>");
                }             

                if (v) {
                    $.ajax({
                        url: 'core//ajax/feedback_send.php', // override for form's 'action' attribute
                        type: 'post',
                        data: $("#feedback-form").serialize(),
                        success: function() {
                            $("#feedback-form").find('.input-grp').removeClass("has-success");
                            $("#feedback-form").find('.glyphicon-form-icon').remove();

                            jQuery.prompt('<h4><center>Thank you for your feedback</center></h4>', {
                                top: '30%'
                            });

                            opentab = false;
                            $("#feedback-form").closest('form').find("input[type=text], textarea").val("");
                            $('#send').prop('disabled', false);
                            $('#send').prop('value', 'Send');
                            $('#loading_bar').html('');
                            grecaptcha.reset();
                        },
                        error: function() {
                            jQuery.prompt('<h4><center>Sorry, there was an error sending your feedback. Please try again later.</center></h4>', {
                                top: '30%'
                            });
                            $('#send').prop('disabled', false);
                            $('#send').prop('value', 'Send');
                            $('#loading_bar').html('');
                        }
                    });
                } else {
                    $('#send').prop('disabled', false);
                    $('#send').prop('value', 'Send');
                    $('#loading_bar').html(''); 
                }
            });
        })($j);
    });
</script>			</div>



<div style="clear:both"></div>







<div id="screen"></div>



<div id="loading_bar"></div>


</div>


</div>

<!-- START OF FULL FOOTER -->
	<div id="padding-here">&nbsp;</div>

<!-- Start of OOA-897: New Store Unavailable Status-->
<!-- End of OOA-897: New Store Unavailable Status-->


	<!-- END OF FULL FOOTER -->
	<div class="footerWrap">
		<button id="ftToggle" class=""><span class="glyphicon glyphicon-info-sign"></span></button>
		<div id="footer">
			<div class="container">
				<div class="col-md-12" id="footer-black">
						<div class="col-md-4">
							<div id="footer-images">
								<div id="p-type">
									<img id="p-master" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/mastercard.png">
									<img id="p-visa" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/visa.png">
									<img id="p-paypal" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/paypal.png">
								</div>
								<span id="siteseal"><script type="text/javascript" src="https://seal.godaddy.com/getSeal?sealID=adWUpnhKlbKz7BcrgjiUvfhL72FCKx967UWaFd0twSw0KCFBDSoMCeH"></script></span>
							</div>
						</div>
						<div class="col-md-4">
							<div id="footer-text">
								<p class="footer-h">Need a hand?</p>
								<p><a href='index11bd.html?page=terms'>Terms and Conditions</a></p>
								<p><a href='index8a5f.html?page=privacy'>Privacy Policy</a></p>
								<p><a href='index1b80.html?page=feedback'>Having any Problems?</a></p>
								<p><a href='index1b80.html?page=feedback'>Feedback</a></p>
							</div>
						</div>
						<div class="col-md-4" style="display: none;">
							<div id="footer-contact">
								<p class="footer-h">Contact Us</p>
								<p>914 Howitt St, Wendouree, VIC</p>
								<p>0343431895</p>
							</div>
						</div>
						<div class="col-md-4">
							<div id="footer-brand">
																	<a class="footer-localserves" href="https://localserves.com.au/" target="_blank"><img style="margin-bottom:10px;" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/logo-localserves.png"></a>
									<span>Powered by:</span> <a href="https://deliverit.com.au/" target="_blank"><img style ="width:140px !important;" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/logo-new.png"></a>
															</div>
							<div id="footer-icons">
								<div id="footer-social">
									<a href="https://www.facebook.com/Amalfi-Pizza-Pasta-112330397329204" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/facebook.png"></a>																											<a href="https://play.google.com/store/apps/details?id=store.dpos.com.ilamalfipizza&amp;pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/android.png"></a>									<a href="https://itunes.apple.com/us/app/id1529996576" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/ios.png"></a>								</div>
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<p id="footer-copyright"><b>Amalfi Pizza Wendouree</b> © Copyright 2024. All right Reserved. Powered By Deliverit Software</p>
					</div>
				</div>
			</div>
			<div id="footer-new">
				<div class="new_footer">
					<div id="footer-new-text" class="col-md-4">
						<p id="footer-new-links">
							<a href="index11bd.html?page=terms">Terms and Conditions</a> • 
							<a href="index1b80.html?page=feedback">Feedback</a>
						</p>
						<p id="footer-new-links">
							<a href="index8a5f.html?page=privacy">Policy</a> •
							<a href="index1b80.html?page=feedback">Having Any Problems?</a>
						</p>
					</div>
					<div id="footer-new-icons" class="col-md-4">
						<a href="https://www.facebook.com/Amalfi-Pizza-Pasta-112330397329204" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/facebook.png"></a>																		<span id="footer-new-line"></span>						<a href="https://play.google.com/store/apps/details?id=store.dpos.com.ilamalfipizza&amp;pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/android.png"></a>						<a href="https://itunes.apple.com/us/app/id1529996576" target="_blank"><img src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/ios.png"></a>					</div>
					<div id="footer-new-brand" class="col-md-4">
													<a class="footer-localserves" href="https://localserves.com.au/" target="_blank"><img style="margin-right:5px;" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/logo-localserves.png"></a>
							<span>Powered by:</span> <a href="https://deliverit.com.au/" target="_blank"><img style ="width:80px !important;" src="../deliverit-online-resources-prd.s3.ap-southeast-2.amazonaws.com/templates/template4/img/new_footer/small/logo-new.png"></a>
											</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script>
$(document).ready(function(){
	// WEB-723 Platina template footer overlap upon first load
	$(window).scroll();

	});
</script>
<div class="pac-container pac-logo" style="display: none;"></div>
</body>

<!-- Mirrored from amalfipizza.com.au/?page=feedback by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2024 18:47:08 GMT -->
</html>
